<div class="mx-auto md:max-w-2xl flex flex-col text-black dark:text-white">
  <!-- item picture and detail link -->
  <section>
    <div class="grid grid-cols-3">
      <p class="font-bold">ITN: {{ ITN }}</p>
      <p class="font-bold">PRC: {{ PRC }}</p>
      <p class="font-bold">PartNumber: {{ PartNumber }}</p>
    </div>
    <div *ngIf="isImgExist" class="grid grid-cols-4 mt-2">
      <div class="col-span-2">
        <img
          [src]="imgURL"
          class="h-40"
          alt="ProductImage"
          onError="this.src='assets/img/image-not-found.png'"
        />
      </div>
      <div class="grid grid-rows-2 items-center">
        <a [href]="productURL" target="_blank" class="text-lg font-bold text-indigo-600">Product</a>
        <a [href]="specSheetURL" target="_blank" class="text-lg font-bold text-indigo-600"
          >Spec sheet</a
        >
      </div>
    </div>
  </section>
  <!-- User input form -->
  <section class="flex flex-col">
    <div class="grid grid-cols-3 font-semibold text-lg">
      <p>Pack Information</p>
      <p class="col-span-2">User Input</p>
    </div>
    <form
      focusInvalidInput
      [formGroup]="verifyPack"
      (ngSubmit)="onSubmit()"
      class="border-t border-gray-200 dark:border-gray-800"
    >
      <div class="px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500 grid grid-rows-2 gap-2">
          <p>Quantity:</p>
          <p>{{ Quantity }}</p>
        </dt>
        <div class="z-0 w-full relative mt-2 col-span-2">
          <input
            type="number"
            name="quantity"
            placeholder=" "
            formControlName="quantity"
            class="float-input"
            autocomplete="off"
            #quantity
          />
          <label for="quantity" class="float-label"> Quantity </label>
          <span class="text-sm text-red-600 hidden" id="quantityError">Quantity is required</span>
        </div>
      </div>

      <div class="px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 bg-gray-100 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 grid grid-rows-2 gap-2">
          <p>DateCode:</p>
          <p>{{ DateCode }}</p>
        </dt>
        <div class="z-0 w-full relative mt-4 col-span-2">
          <input
            type="text"
            name="dateCode"
            placeholder=" "
            formControlName="dateCode"
            class="float-input"
            autocomplete="off"
            #dateCode
          />
          <label for="dateCode" class="float-label"> DateCode </label>
          <span class="text-sm text-red-600 hidden" id="dateCodeError"></span>
        </div>
      </div>

      <div class="px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500 grid grid-rows-2 gap-2">
          <p>ROHS:</p>
          <p>{{ ROHS }}</p>
        </dt>
        <fieldset class="relative z-0 p-px w-full mt-2">
          <legend class="origin-0 absolute -top-3 text-gray-500 transform scale-75">ROHS</legend>
          <div class="grid grid-cols-2 pb-2 pt-3 space-x-4">
            <label *ngFor="let ROHS of ROHSOptions">
              <input
                type="radio"
                name="ROHS"
                formControlName="ROHS"
                [value]="ROHS.id"
                class="
                  mr-2
                  text-black
                  border-2 border-gray-300
                  focus:border-gray-300
                  focus:ring-black
                "
              />
              {{ ROHS.name }}
            </label>
          </div>
          <span class="hidden text-red-600 text-sm" id="error">Option has to be selected</span>
        </fieldset>
      </div>

      <div class="px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 bg-gray-100 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 grid grid-rows-2 gap-2">
          <p>Country of Origin:</p>
          <p>{{ CountryOfOrigin }}</p>
        </dt>
        <div class="col-span-2">
          <label for="countryOfOrigin" class="text-sm text-gray-500">Country of Origin</label>
          <div>
            <ng-autocomplete
              [data]="countryData"
              [focusFirst]="true"
              [searchKeyword]="COOkeyword"
              [customFilter]="COOFilter"
              [itemTemplate]="COOTemplate"
              [notFoundTemplate]="notFoundTemplate"
              formControlName="countryOfOrigin"
              class="text-black"
            >
            </ng-autocomplete>
            <ng-template #COOTemplate let-item>
              <a [innerHTML]="item.name" class="ml-2"></a>
            </ng-template>

            <ng-template #notFoundTemplate let-notFound>
              <div [innerHTML]="notFound"></div>
            </ng-template>
          </div>
          <span class="text-sm text-red-600 hidden" id="cooError"></span>
        </div>
      </div>

      <div class="px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-gray-500 grid grid-rows-2 gap-2"></dt>
        <div class="col-span-2">
          <div class="mt-6">
            <fieldset class="relative z-0 mb-5 p-px">
              <legend class="origin-0 absolute -top-8 transform text-gray-500">Count Method</legend>
              <div class="grid grid-cols-2 gap-4">
                <label *ngFor="let countMethod of countMethods">
                  <input
                    type="radio"
                    name="countMethods"
                    value="{{ countMethod.id }}"
                    formControlName="countMethods"
                    class="
                      mr-2
                      focus:ring-black
                      text-black
                      border-2 border-gray-300
                      focus:border-gray-300
                    "
                  />
                  {{ countMethod.content }}
                </label>
              </div>
              <span class="hidden text-red-600 text-sm" id="CountMethodError"
                >Option has to be selected</span
              >
            </fieldset>
          </div>
        </div>
      </div>

      <div class="sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <form-button
          [styles]="holdStyles"
          [disabled]="isLoading"
          [isLoading]="isLoading"
          [label]="'Hold'"
          (click)="toggleModal()"
        ></form-button>
        <form-button
          [styles]="backStyles"
          [disabled]="isLoading"
          [isLoading]="isLoading"
          [label]="'Back'"
          (onClickEmt)="back()"
        ></form-button>
        <form-button
          [styles]="submitStyles"
          [type]="'submit'"
          [disabled]="isLoading"
          [isLoading]="isLoading"
          [label]="buttonLabel"
        ></form-button>
      </div>
      <div class="mt-6 grid grid-cols-2">
        <message-bar [message]="message" [type]="messageType"></message-bar>
      </div>
    </form>
  </section>
</div>
<hold-modal *ngIf="!isModalHidden" [(isModalHidden)]="isModalHidden"></hold-modal>
