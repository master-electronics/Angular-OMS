<div class="bg-gray-700">
  <div
    class="min-h-screen bg-cover bg-center"
    style="background-image: url(../../../assets/img/bg_1.svg)"
  >
    <div nz-row nzJustify="center">
      <div nz-col nzXs="20" nzSm="16" nzMd="12" nzLg="8" nzXl="6" nzXXl="4">
        <div
          class="lg:mt-30 mt-10 rounded-lg bg-gray-200 bg-opacity-80 px-6 py-6 md:mt-20 xl:mt-40"
        >
          <!-- title of login form -->
          <div class="rounded-t">
            <div class="mb-3 text-center">
              <h4 class="text-base font-bold text-gray-600">Sign in with</h4>
            </div>
            <hr class="border-b-1 border-gray-400 py-4" />
          </div>
          <!-- login form -->
          <form
            focusInvalidInput
            nz-form
            [formGroup]="loginForm"
            autocomplete="off"
            (ngSubmit)="onSubmit()"
            class="grid grid-flow-row gap-6 px-4 py-4 lg:px-10"
          >
            <!-- two input box -->
            <nz-form-item class="relative w-full">
              <nz-form-control nzErrorTip="Please input your username!">
                <nz-input-group nzSize="large" nzPrefixIcon="user">
                  <input
                    id="username"
                    nz-input
                    type="text"
                    autocomplete="off"
                    placeholder="USERNAME"
                    formControlName="username"
                    #username
                  />
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item class="relative w-full">
              <nz-form-control nzErrorTip="Please input your password!">
                <nz-input-group
                  [nzSuffix]="suffixTemplate"
                  nzPrefixIcon="lock"
                  nzSize="large"
                >
                  <input
                    id="password"
                    [type]="passwordVisible ? 'text' : 'password'"
                    nz-input
                    id="password"
                    autocomplete="off"
                    placeholder="PASSWORD "
                    formControlName="password"
                    #password
                  />
                  <ng-template #suffixTemplate>
                    <i
                      nz-icon
                      [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
                      (click)="passwordVisible = !passwordVisible"
                    ></i>
                  </ng-template>
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>

            <!-- submit button -->
            <div class="hidden">{{ login$ | async }}</div>
            <button
              id="login"
              nz-button
              type="submit"
              nzType="primary"
              (click)="onSubmit()"
              [nzLoading]="isLoading"
              [disabled]="isLoading"
              nzSize="large"
              class="w-full"
            >
              <span>Login</span>
            </button>
            <nz-alert
              *ngIf="message"
              id="message"
              nzType="error"
              [nzMessage]="message"
              class="w-full"
            ></nz-alert>
          </form>
        </div>
      </div>
    </div>
    <div nz-row nzJustify="center">
      <div nz-col nzXs="20" nzSm="16" nzMd="12" nzLg="8" nzXl="6" nzXXl="4">
        <div class="mb-3 text-center">
          <span
            style="cursor: pointer"
            (click)="showCookieModal = true"
            nz-icon
            [nzType]="hostnameIcon"
            nzTheme="outline"
            [title]="hostnameIconTitle"
          ></span>
        </div>
      </div>
    </div>
  </div>
  <nz-modal
    [(nzVisible)]="showCookieModal"
    nzTitle="Set Hostname"
    (nzOnCancel)="hideCookieModal()"
    (nzOnOk)="setHostnameCookie()"
  >
    <ng-container *nzModalContent>
      <div nz-row nzGutter="8" nzJustify="start">
        <div nz-col nzSpan="24">
          <input nz-input [(ngModel)]="hostnameValue" type="text" />
        </div>
      </div>
    </ng-container>
  </nz-modal>
</div>
