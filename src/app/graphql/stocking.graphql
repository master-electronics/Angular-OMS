# pull to pick
query verifyITNForSorting($ITN: String!, $DC: String!) {
  findInventory(
    Inventory: { InventoryTrackingNumber: $ITN, DistributionCenter: $DC }
  ) {
    _id
    QuantityOnHand
    Container {
      _id
      ContainerType {
        IsMobile
      }
    }
    Product {
      _id
      ProductCode {
        ProductCodeNumber
      }
      DCPRODUCTs {
        Velocity
      }
      PartNumber
    }
  }
}

query verifyContainerForSorting(
  $Barcode: String!
  $DistributionCenter: String!
) {
  findContainer(
    Container: { Barcode: $Barcode, DistributionCenter: $DistributionCenter }
  ) {
    _id
    ContainerTypeID
    ContainerType {
      IsMobile
    }
  }
}

query fetchSuggetionLocationForSorting($ProductID: Int!, $limit: Int) {
  findInventorys(Inventory: { ProductID: $ProductID }, limit: $limit) {
    QuantityOnHand
    Container {
      Barcode
      Zone
    }
  }
}

mutation updateInventoryAfterSorting(
  $ContainerID: Int!
  $InventoryID: Int!
  $log: [insertUserEventLog]!
) {
  updateInventory(Inventory: { ContainerID: $ContainerID }, _id: $InventoryID)
  insertUserEventLogs(log: $log) {
    _id
  }
}

# stocking
query fetchITNInfoByContainerforStocking($Barcode: String!, $DC: String!) {
  findContainer(Container: { Barcode: $Barcode, DistributionCenter: $DC }) {
    _id
    ContainerType {
      IsMobile
    }
    INVENTORies {
      _id
      InventoryTrackingNumber
      QuantityOnHand
      Product {
        _id
      }
    }
  }
}

query verifyITNForStocking($ITN: String!, $DC: String!) {
  findInventory(
    Inventory: { InventoryTrackingNumber: $ITN, DistributionCenter: $DC }
  ) {
    _id
    QuantityOnHand
    Product {
      _id
    }
    ORDERLINEDETAILs {
      _id
      Order {
        OrderNumber
        NOSINumber
      }
      OrderLine {
        OrderLineNumber
      }
    }
  }
}

mutation findorCreateUserContainerForStocking(
  $Barcode: String!
  $DistributionCenter: String!
  $ContainerTypeID: Int!
) {
  findOrCreateUserContainer(
    Container: {
      ContainerTypeID: $ContainerTypeID
      Barcode: $Barcode
      DistributionCenter: $DistributionCenter
    }
  ) {
    _id
  }
}

mutation moveInventoryToContainerForStocking(
  $ITN: String!
  $DC: String!
  $ContainerID: Int!
) {
  updateInventory(
    Inventory: { ContainerID: $ContainerID }
    DistributionCenter: $DC
    InventoryTrackingNumber: $ITN
  )
}

mutation updateNotFoundForStocking(
  $ITNList: [String!]
  $DC: String!
  $log: [insertUserEventLog]!
) {
  updateInventoryList(
    ITNList: $ITNList
    DistributionCenter: $DC
    Inventory: { NotFound: true }
  )
  insertUserEventLogs(log: $log) {
    _id
  }
}

query fetchInventoryInUserContainer($ContainerID: Int!) {
  findContainer(Container: { _id: $ContainerID }) {
    INVENTORies {
      QuantityOnHand
      InventoryTrackingNumber
    }
  }
}
