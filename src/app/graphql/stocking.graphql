# pull to pick
query verifyITNForSorting($ITN: String!, $DC: String!) {
  findInventory(
    Inventory: { InventoryTrackingNumber: $ITN, DistributionCenter: $DC }
  ) {
    _id
    QuantityOnHand
    Container {
      ContainerType {
        IsMobile
      }
    }
    Product {
      _id
      ProductCode {
        ProductCode
      }
      DCPRODUCTs {
        Velocity
      }
      PartNumber
    }
    ORDERLINEDETAILs {
      Order {
        OrderNumber
        NOSINumber
      }
      OrderLine {
        OrderLineNumber
      }
    }
  }
}

query verifyContainerForSorting(
  $Barcode: String!
  $DistrubutionCenter: String!
) {
  findContainer(
    Container: { Barcode: $Barcode, DistributionCenter: $DistrubutionCenter }
  ) {
    _id
    ContainerType {
      IsMobile
    }
  }
}

query fetchSuggetionLocationForSorting($ProductID: Int!, $limit: Int) {
  findProduct(Product: { _id: $ProductID }, limit: $limit) {
    INVENTORies {
      QuantityOnHand
      Container {
        Barcode
        Zone
      }
    }
  }
}

mutation updateInventoryAfterSorting(
  $ContainerID: Int!
  $InventoryID: Int!
  $log: [insertUserEventLog]!
) {
  updateInventory(Inventory: { ContainerID: $ContainerID }, _id: $InventoryID)
  insertUserEventLogs(log: $log) {
    _id
  }
}

# stocking
query fetchITNInfoByContainerforStocking($Barcode: String!, $DC: String!) {
  findContainer(Container: { Barcode: $Barcode, DistributionCenter: $DC }) {
    _id
    ContainerType {
      IsMobile
    }
    INVENTORies {
      _id
      InventoryTrackingNumber
      QuantityOnHand
      Product {
        _id
      }
    }
  }
}

query verifyITNForStocking($ITN: String!, $DC: String!) {
  findInventory(
    Inventory: { InventoryTrackingNumber: $ITN, DistributionCenter: $DC }
  ) {
    _id
    QuantityOnHand
    Product {
      _id
    }
    ORDERLINEDETAILs {
      Order {
        OrderNumber
        NOSINumber
      }
      OrderLine {
        OrderLineNumber
      }
    }
  }
}

mutation findorCreateUserContainerForStocking(
  $Barcode: String!
  $DistrubutionCenter: String!
  $ContainerTypeID: Int!
) {
  findOrCreateContainer(
    Container: {
      ContainerTypeID: $ContainerTypeID
      Barcode: $Barcode
      DistributionCenter: $DistrubutionCenter
    }
  ) {
    _id
  }
}

mutation moveInventoryToContainerForStocking(
  $ITN: String!
  $DC: String!
  $ContainerID: Int!
) {
  updateInventory(
    Inventory: { ContainerID: $ContainerID }
    DistributionCenter: $DC
    InventoryTrackingNumber: $ITN
  )
}

mutation updateNotFoundForStocking($ITNList: [String!], $DC: String!) {
  updateInventoryList(
    ITNList: $ITNList
    DistributionCenter: $DC
    Inventory: { NotFound: true }
  )
}

query fetchInventoryInUserContainer($ContainerID: Int!) {
  findContainer(Container: { _id: $ContainerID }) {
    INVENTORies {
      QuantityOnHand
      InventoryTrackingNumber
    }
  }
}
