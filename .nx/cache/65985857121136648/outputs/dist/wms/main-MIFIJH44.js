import{a as Pe}from"./chunk-JBNMM6R5.js";import{a as _}from"./chunk-KSUYRJTQ.js";import{a as q}from"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import{f as xe,g as Ae}from"./chunk-RAQ4VAB7.js";import"./chunk-WX6KJXZ2.js";import"./chunk-EXQESRXT.js";import"./chunk-5FUULRSO.js";import{a as U}from"./chunk-PLQ7TNCQ.js";import{a as Ie,b as F,c as y,d as Me,e as Se,f as Ee,g as ke,h as Oe,j as Re}from"./chunk-C55YZZU5.js";import{a as we}from"./chunk-WOYNEQEU.js";import"./chunk-XSY6ZNJP.js";import"./chunk-W3KGMJG7.js";import"./chunk-B3MPBRHZ.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{b as he,c as me,e as fe,f as ge,g as ye,h as be,j as Ce,k as v,m as ve}from"./chunk-PJEV5NXI.js";import{I,J as le,K as ce,L as ue,M as de,q as ae,w as pe}from"./chunk-GWV5DZOT.js";import{$b as G,Aa as C,Ba as h,Da as R,Fb as re,Gb as ne,Gc as T,H as b,Ka as X,Lc as H,Mc as $,Nb as oe,Rc as L,Sb as B,Sc as D,Ta as ee,Uc as j,V as Y,a as Q,ac as P,bc as N,cc as A,fc as ie,gb as te,j as x,ka as Z,n as k,nc as se,qa as O,s as J,t as W,va as m}from"./chunk-N7LPRJLK.js";var _e=["loadingSpinner"],Ne=(()=>{let t=class t{ngAfterViewInit(){this.icon.nativeElement.focus()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=R({type:t,selectors:[["loading-spinner"]],viewQuery:function(n,a){if(n&1&&D(_e,5),n&2){let i;L(i=j())&&(a.icon=i.first)}},standalone:!0,features:[T],decls:4,vars:0,consts:[["width","50","height","50","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-repeat","z-50","animate-spin"],["loadingSpinner",""],["d","M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"],["fill-rule","evenodd","d","M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"]],template:function(n,a){n&1&&(X(),P(0,"svg",0,1),A(2,"path",2)(3,"path",3),N())},encapsulation:2});let e=t;return e})();var ze=["overlay"];function Ve(e,t){e&1&&ie(0)}function Ke(e,t){e&1&&(P(0,"div",2,3),A(2,"loading-spinner"),N())}var Te=(()=>{let t=class t{constructor(r){this.router=r,this.loading$=new k(!1)}ngOnInit(){this.router$=this.router.events.pipe(b(r=>this.checkRouterEvent(r)))}checkRouterEvent(r){if(r instanceof fe){this.loading$.next(!0);return}(r instanceof ge||r instanceof ye||r instanceof be)&&this.loading$.next(!1)}handleKeyboardEvent(r){this.spinnerDOM&&this.spinnerDOM.nativeElement&&r.preventDefault()}};t.\u0275fac=function(n){return new(n||t)(ne(v))},t.\u0275cmp=R({type:t,selectors:[["app-root"]],viewQuery:function(n,a){if(n&1&&D(ze,5),n&2){let i;L(i=j())&&(a.spinnerDOM=i.first)}},hostBindings:function(n,a){n&1&&se("keypress",function(s){return a.handleKeyboardEvent(s)},!1,te)},standalone:!0,features:[T],decls:5,vars:6,consts:[[4,"ngIf"],["class",`    
      absolute z-50 grid h-full w-full grid-cols-1 grid-rows-1 place-items-center bg-gray-900 text-white opacity-30`,4,"ngIf"],[1,"absolute","z-50","grid","h-full","w-full","grid-cols-1","grid-rows-1","place-items-center","bg-gray-900","text-white","opacity-30"],["overlay",""]],template:function(n,a){n&1&&(G(0,Ve,1,0,"ng-container",0),H(1,"async"),G(2,Ke,3,0,"div",1),H(3,"async"),A(4,"router-outlet")),n&2&&(B("ngIf",$(1,2,a.router$)),re(2),B("ngIf",$(3,4,a.loading$)))},dependencies:[ae,Ne,Ce,pe],encapsulation:2});let e=t;return e})();function z(e){return new y(function(t,o){return new F(function(r){var n,a,i;try{n=o(t).subscribe({next:function(s){if(s.errors&&(i=e({graphQLErrors:s.errors,response:s,operation:t,forward:o}),i)){a=i.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return}r.next(s)},error:function(s){if(i=e({operation:t,networkError:s,graphQLErrors:s&&s.result&&s.result.errors,forward:o}),i){a=i.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return}r.error(s)},complete:function(){i||r.complete.bind(r)()}})}catch(s){e({networkError:s,operation:t,forward:o}),r.error(s)}return function(){n&&n.unsubscribe(),a&&n.unsubscribe()}})})}var ht=function(e){W(t,e);function t(o){var r=e.call(this)||this;return r.link=z(o),r}return t.prototype.request=function(o,r){return this.link.request(o,r)},t}(y);var Le=z(({graphQLErrors:e,networkError:t})=>{e&&e.map(({message:o,locations:r,path:n})=>_.error("ApolloLink","error",`${o}, ${r}, ${n}`)),t&&_.error("ApolloLink","NetWorkError",`${t.message}`)}),De=new y((e,t)=>{let o=JSON.parse(sessionStorage.getItem("userInfo")||"").idToken;return o&&e.setContext({headers:new I().set("Authorization",`Bearer ${o||""}`)}),t(e)});var Je=(e,t,o)=>{let r=["POST","PUT","PATCH"].indexOf(e.method.toUpperCase())!==-1,n=p=>["variables","extensions"].indexOf(p.toLowerCase())!==-1,a=e.body.length,i=e.options&&e.options.useMultipart,s;if(i){if(a)return new x(p=>p.error(new Error("File upload is not available when combined with Batching")));if(!r)return new x(p=>p.error(new Error("File upload is not available when GET is used")));if(!o)return new x(p=>p.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));s=o(e.body),i=!!s.files.size}let l={};if(a){if(!r)return new x(p=>p.error(new Error("Batching is not available for GET requests")));l={body:e.body}}else{let p=i?s.clone:e.body;r?l={body:p}:l={params:Object.keys(e.body).reduce((f,d)=>{let g=e.body[d];return f[d]=n(d)?JSON.stringify(g):g,f},{})}}if(i&&r){let p=new FormData;p.append("operations",JSON.stringify(l.body));let u={},f=s.files,d=0;f.forEach(g=>{u[++d]=g}),p.append("map",JSON.stringify(u)),d=0,f.forEach((g,E)=>{p.append(++d+"",E,E.name)}),l.body=p}return t.request(e.method,e.url,Q(Q({observe:"response",responseType:"json",reportProgress:!1},l),e.options))},We=(e,t)=>e&&t?t.keys().reduce((r,n)=>r.set(n,t.getAll(n)),e):t||e;function Ye(...e){let t=e.find(o=>typeof o<"u");return typeof t>"u"?e[e.length-1]:t}function Ze(e){let t=e.headers&&e.headers instanceof I?e.headers:new I(e.headers);if(e.clientAwareness){let{name:o,version:r}=e.clientAwareness;o&&!t.has("apollographql-client-name")&&(t=t.set("apollographql-client-name",o)),r&&!t.has("apollographql-client-version")&&(t=t.set("apollographql-client-version",r))}return t}var V=class extends y{httpClient;options;requester;print=Ie;constructor(t,o){super(),this.httpClient=t,this.options=o,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new F(n=>{let a=r.getContext(),i=(c,Ue)=>Ye(a[c],this.options[c],Ue),s=i("method","POST"),l=i("includeQuery",!0),p=i("includeExtensions",!1),u=i("uri","graphql"),f=i("withCredentials"),d=i("useMultipart"),g=this.options.useGETForQueries===!0,E=r.query.definitions.some(c=>c.kind==="OperationDefinition"&&c.operation==="query");g&&E&&(s="GET");let w={method:s,url:typeof u=="function"?u(r):u,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:f,useMultipart:d,headers:this.options.headers}};p&&(w.body.extensions=r.extensions),l&&(w.body.query=this.print(r.query));let $e=Ze(a);w.options.headers=We(w.options.headers,$e);let K=Je(w,this.httpClient,this.options.extractFiles).subscribe({next:c=>{r.setContext({response:c}),n.next(c.body)},error:c=>n.error(c),complete:()=>n.complete()});return()=>{K.closed||K.unsubscribe()}})}request(t){return this.requester(t)}},je=(()=>{class e{httpClient;constructor(o){this.httpClient=o}create(o){return new V(this.httpClient,o)}static \u0275fac=function(r){return new(r||e)(C(le))};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Fe=(()=>{let t=class t{constructor(){}intercept(r,n){let a=r.clone({headers:r.headers.set("SameSite","None")});return n.handle(a)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac});let e=t;return e})();var qe=(e,t)=>{let o=h(v);return h(q).userName?!0:(o.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)};var et=Re`
    query findAllRoutes {
  findRoutes {
    Route
    ADGroupProtected
    ROUTEGROUPs {
      ADGroup
    }
  }
}
    `,Qe=(()=>{let t=class t extends Oe{constructor(r){super(r),this.document=et,this.client="wmsNodejs"}};t.\u0275fac=function(n){return new(n||t)(C(Ee))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Be=(()=>{let t=class t{constructor(r){this._info$=r,this._routeAuth=new k(null)}get routeAuth$(){return this._routeAuth.value?this._routeAuth.asObservable():this._info$.fetch().pipe(O(r=>{if(!r.data.findRoutes.length)throw new Error("Can fetch Route table's info!");this._routeAuth.next(r.data.findRoutes)}),b(r=>r.data.findRoutes),Z(1))}};t.\u0275fac=function(n){return new(n||t)(C(Qe))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ge=(e,t)=>{let o=h(oe),r=h(Be),a=h(q).userGroups;return r.routeAuth$.pipe(b(i=>{let s=0,l=!1;return i.some((p,u)=>p.Route===t.url?(l=p.ADGroupProtected,s=u,!0):!1),l?i[s].ROUTEGROUPs.some(p=>a.includes(p.ADGroup)):!0}),O(i=>{i||o.run(()=>{console.error("You are not allowed to view this page.")})}),Y(i=>J))};var S=(e,t)=>{let o=h(v);return localStorage.removeItem("printerName"),sessionStorage.getItem("printerName")?!0:(o.navigate(["/printersetting"],{queryParams:{returnUrl:t.url}}),!1)};var He=[{path:"",loadComponent:()=>import("./chunk-7GWHN7RX.js").then(e=>e.ShellComponent),canActivateChild:[qe,Ge],children:[{path:"home",loadComponent:()=>import("./chunk-WHZC2XU2.js").then(e=>e.HomeComponent)},{path:"agin",loadChildren:()=>import("./chunk-RHNW62OD.js").then(e=>e.AggregationInModule)},{path:"agout",loadChildren:()=>import("./chunk-UURWSFNF.js").then(e=>e.AggregationOutModule)},{path:"qc",loadChildren:()=>import("./chunk-FA5N5UUD.js").then(e=>e.QualityControlModule)},{path:"searchbarcode",loadChildren:()=>import("./chunk-AT3W67UJ.js").then(e=>e.SearchBarcodeModule)},{path:"tableviews",loadChildren:()=>import("./chunk-F4GGTWDL.js").then(e=>e.TableViewsModule)},{path:"tableviews/itnlifecycle",loadChildren:()=>import("./chunk-UGVRSTUV.js").then(e=>e.ITNLifeCycleModule)},{path:"printitn",loadChildren:()=>import("./chunk-4SW6HSOC.js").then(e=>e.PrintITNModule)},{path:"shelfinventory",loadChildren:()=>import("./chunk-JRK3Y4FD.js").then(e=>e.ShelfInventoryModule)},{path:"pulltopick",loadChildren:()=>import("./chunk-PZTXNIMD.js").then(e=>e.PickModule)},{path:"valuemap",loadChildren:()=>import("./chunk-J5NUW5WC.js").then(e=>e.ValueMappingModule)},{path:"printermaintenance",loadChildren:()=>import("./chunk-M4JXALYM.js").then(e=>e.PrinterMaintenanceModule)},{path:"dataMaintenance",loadChildren:()=>import("./chunk-EL4GJP7P.js").then(e=>e.DataMaintenanceModule)},{path:"receiving/receiptentry",loadChildren:()=>import("./chunk-CGM67BHP.js").then(e=>e.ReceiptEntryModule)},{path:"receiptreceiving",canActivate:[S],loadChildren:()=>import("./chunk-UJQ3X5TM.js").then(e=>e.ReceivingRoutes)},{path:"autostore-asn",canActivate:[S],loadChildren:()=>import("./chunk-E4BWZCVV.js").then(e=>e.AutostoreASNRoutes)},{path:"stocking",canActivate:[S],loadChildren:()=>import("./chunk-DKJ6WCDA.js").then(e=>e.StockingRoutes)},{path:"inventorymanagement",loadChildren:()=>import("./chunk-CHKP5KS7.js").then(e=>e.InventoryMangementRoutes)},{path:"picking",title:"Picking",loadChildren:()=>import("./chunk-TY4EJEHJ.js").then(e=>e.PickingRoutes)},{path:"printersetting",loadComponent:()=>import("./chunk-IN77V4CA.js").then(e=>e.PrinterSettingComponent)},{path:"itn_info",loadComponent:()=>import("./chunk-OFGAQOPN.js").then(e=>e.INTInfoComponent)},{path:"clearsuspect",loadComponent:()=>import("./chunk-IO2HGT7Y.js").then(e=>e.ClearSuspectInventoryComponent)},{path:"tableview",loadChildren:()=>import("./chunk-KBBWWBZV.js").then(e=>e.TableViewRoutes)},{path:"itnseparate",canActivate:[S],loadChildren:()=>import("./chunk-AELM3PVN.js").then(e=>e.ItnSeparateRoutes)},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"login",loadComponent:()=>import("./chunk-A24XWIHN.js").then(e=>e.LoginComponent)},{path:"error",loadComponent:()=>import("./chunk-YNILPNOO.js").then(e=>e.ErrorPageComponent)},{path:"**",loadComponent:()=>import("./chunk-FNTG2C5N.js").then(e=>e.NotFoundComponent)}];U.production&&void 0;he(Te,{providers:[ve(He),ee(ke,Pe),me,{provide:ce,useClass:Fe,multi:!0},{provide:Se,useFactory:e=>{let t=e.create({uri:U.graphql}),o=De.concat(t);return{wmsNodejs:{link:Le.concat(o),cache:new Me}}},deps:[je]},{provide:Ae,useValue:xe},ue(de()),we()]}).catch(e=>console.error(e));
