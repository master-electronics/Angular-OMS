import{a as V}from"./chunk-OA6ZCSCG.js";import{a as M}from"./chunk-XHQXBUEX.js";import"./chunk-RMIKNTFD.js";import{a as E}from"./chunk-76P6BAQU.js";import"./chunk-D3FIXZL7.js";import"./chunk-ADHMVREX.js";import{a as A}from"./chunk-IPTX4HSO.js";import"./chunk-VJKYRYVM.js";import{a as D}from"./chunk-OQTOI2SX.js";import"./chunk-KSUYRJTQ.js";import"./chunk-M47XUQY5.js";import"./chunk-YPJKXAYS.js";import"./chunk-I3G2JKLN.js";import"./chunk-LCEARWCQ.js";import"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import"./chunk-POEXBOQJ.js";import{I as G,e as N,i as w,k as P,m as $,t as j}from"./chunk-L3THJMBJ.js";import"./chunk-PLQ7TNCQ.js";import"./chunk-C55YZZU5.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{i as O,k}from"./chunk-PJEV5NXI.js";import{A as B,q as x,w as T}from"./chunk-GWV5DZOT.js";import{$b as I,C as a,Da as C,Fb as u,Gb as o,Gc as S,H as v,Ia as R,Ja as b,Lc as h,Mc as _,Sb as d,V as s,ac as l,bc as m,gc as y,ka as c,nc as f,pc as F,qa as g}from"./chunk-N7LPRJLK.js";function U(n,r){if(n&1){let L=y();l(0,"div",3)(1,"red-button",4),f("buttonClick",function(){R(L);let t=F();return b(t.overReceipt())}),m()()}}var ne=(()=>{let r=class r{constructor(e,t,i,p,q){this._actRoute=e,this._router=t,this._steps=i,this._create=p,this._receipt=q,this.inputForm=new P({purchaseOrder:new $("",[N.required])})}ngOnInit(){this._steps.changeSteps(0),this.data$=a(!0),this._create.reset()}onBack(){this._router.navigateByUrl("receiptreceiving")}overReceipt(){this.inputForm.value.purchaseOrder?.trim()&&(this.data$=this._receipt.fetchReceiptLinesForOverReceipt$(this.inputForm.value.purchaseOrder.trim()).pipe(g(()=>{if(this._receipt.receiptInfoAfterFilter().length===1){this._receipt.updateReceiptLine(this._receipt.receiptInfoAfterFilter()[0].ReceiptLineID),this._router.navigate(["../overreceiving"],{relativeTo:this._actRoute});return}this._router.navigate(["../alllines"],{relativeTo:this._actRoute})}),s(e=>a({error:{message:e.message,type:"error"}})),c(1)))}onSubmit(){this.data$=this._create.getPurchaseOrderInfo$(this.inputForm.value.purchaseOrder).pipe(v(()=>{this._router.navigate(["../lineselecter"],{relativeTo:this._actRoute})}),s(e=>a({error:{message:e.message,type:"error"}})),c(1))}};r.\u0275fac=function(t){return new(t||r)(o(O),o(k),o(D),o(E),o(A))},r.\u0275cmp=C({type:r,selectors:[["ng-component"]],standalone:!0,features:[S],decls:5,vars:7,consts:[[1,"flew","justify-center","gap-2","md:gap-6","lg:gap-12"],["inputType","text","controlName","purchaseOrder","title","Purchase Order",3,"data","formGroup","formSubmit","formBack"],["class","grid h-16  grid-cols-3 text-2xl md:mx-16 md:mt-10 md:h-36 md:text-4xl",4,"ngIf"],[1,"grid","h-16","grid-cols-3","text-2xl","md:mx-16","md:mt-10","md:h-36","md:text-4xl"],["buttonText","Over Receipt",3,"buttonClick"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"single-input-form",1),f("formSubmit",function(){return i.onSubmit()})("formBack",function(){return i.onBack()}),h(2,"async"),m(),I(3,U,2,0,"div",2),h(4,"async"),m()),t&2&&(u(1),d("data",_(2,3,i.data$))("formGroup",i.inputForm),u(2),d("ngIf",_(4,5,i.data$)))},dependencies:[B,x,T,G,w,j,M,V],encapsulation:2});let n=r;return n})();export{ne as PurchaseNumberComponent};
