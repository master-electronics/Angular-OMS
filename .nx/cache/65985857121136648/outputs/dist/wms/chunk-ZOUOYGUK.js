import{a as D}from"./chunk-XMFOCRFG.js";import"./chunk-JC3J4WKG.js";import{a as N}from"./chunk-OA6ZCSCG.js";import{a as M}from"./chunk-XHQXBUEX.js";import"./chunk-RMIKNTFD.js";import{a as E}from"./chunk-76P6BAQU.js";import"./chunk-D3FIXZL7.js";import"./chunk-ADHMVREX.js";import"./chunk-IPTX4HSO.js";import"./chunk-VJKYRYVM.js";import{a as j}from"./chunk-OQTOI2SX.js";import"./chunk-O3UEHWS5.js";import"./chunk-KSUYRJTQ.js";import"./chunk-M47XUQY5.js";import"./chunk-YPJKXAYS.js";import"./chunk-I3G2JKLN.js";import"./chunk-LCEARWCQ.js";import"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import"./chunk-POEXBOQJ.js";import{I as G,e as v,i as q,k as A,m as B,t as $}from"./chunk-L3THJMBJ.js";import"./chunk-PLQ7TNCQ.js";import"./chunk-C55YZZU5.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{i as Q,k as V}from"./chunk-PJEV5NXI.js";import{A as w,q as T,w as k}from"./chunk-GWV5DZOT.js";import{$b as x,C as a,Da as R,Fb as _,Gb as m,Gc as S,H as y,Ia as l,Ja as d,Lc as F,Mc as I,Sb as s,V as C,ac as p,bc as u,gc as g,nc as f,pc as c,xc as b}from"./chunk-N7LPRJLK.js";function O(i,r){if(i&1){let o=g();p(0,"div",5)(1,"red-button",6),f("buttonClick",function(){l(o);let e=c();return d(e.overReceipt())}),u()()}}function P(i,r){if(i&1){let o=g();p(0,"auth-modal",7),f("clickClose",function(){l(o);let e=c();return d(e.message="")})("passAuth",function(e){l(o);let t=c();return d(t.generateReceipt(!0,e))}),u()}if(i&2){let o=c();s("message",o.message)}}var ie=(()=>{let r=class r{constructor(n,e,t,h){this._router=n,this._actRoute=e,this._steps=t,this._createreceipt=h,this.inputForm=new A({quantity:new B(null,[v.required,v.max(this._createreceipt.leftQuantity)])}),this.message=""}ngOnInit(){this.data$=a(!0),this._steps.changeSteps(0)}onBack(){this._router.navigate(["../purchasenumber"],{relativeTo:this._actRoute})}onSubmit(){if(this.inputForm.value.quantity===0){this.data$=a({error:{message:"Can't accept zero.",type:"error"}});return}if(this.inputForm.invalid){this.data$=a({error:{message:"Invalid quantity!",type:"error"}});return}this.generateReceipt()}overReceipt(){this.message=`Over Receipt Quantity: ${this.inputForm.value.quantity}`}generateReceipt(n,e){this._createreceipt.updatePurchaseInfo({Quantity:Number(this.inputForm.value.quantity)}),this.data$=this._createreceipt.generateReceipt$(n,e).pipe(y(()=>{this._router.navigate(["../part"],{relativeTo:this._actRoute})}),C(t=>a({error:{message:t.message,type:"error"}})))}};r.\u0275fac=function(e){return new(e||r)(m(V),m(Q),m(j),m(E))},r.\u0275cmp=R({type:r,selectors:[["ng-component"]],standalone:!0,features:[S],decls:7,vars:7,consts:[[1,"flew","justify-center","gap-2","md:gap-6","lg:gap-12"],[1,"text-4xl"],["inputType","number","controlName","quantity","title","Quantity",3,"data","formGroup","isvalid","formSubmit","formBack"],["class","grid h-16  grid-cols-3 text-2xl md:mx-16 md:mt-10 md:h-36 md:text-4xl",4,"ngIf"],[3,"message","clickClose","passAuth",4,"ngIf"],[1,"grid","h-16","grid-cols-3","text-2xl","md:mx-16","md:mt-10","md:h-36","md:text-4xl"],["buttonText","Over Receipt",3,"buttonClick"],[3,"message","clickClose","passAuth"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1",1),b(2,"Generate Receipt:"),u(),p(3,"single-input-form",2),f("formSubmit",function(){return t.onSubmit()})("formBack",function(){return t.onBack()}),F(4,"async"),u()(),x(5,O,2,0,"div",3)(6,P,1,1,"auth-modal",4)),e&2&&(_(3),s("data",I(4,5,t.data$))("formGroup",t.inputForm)("isvalid",t.inputForm.valid),_(2),s("ngIf",t._createreceipt.leftQuantity<t.inputForm.value.quantity),_(1),s("ngIf",t.message))},dependencies:[w,T,k,M,G,q,$,N,D],encapsulation:2});let i=r;return i})();export{ie as ReceiptQuantityComponent};
