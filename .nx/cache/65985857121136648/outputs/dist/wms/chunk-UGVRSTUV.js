import{a as he}from"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import{a as Mt,b as yt,c as Oe}from"./chunk-UGSSIXRM.js";import{k as Et,l as Vt,m as xt,n as Ve,o as wt,p as Pt,q as Ft,r as Ut,s as Jt,t as At,u as qt,v as jt}from"./chunk-J6IIM7ZS.js";import{a as Je,b as H}from"./chunk-RMDJVRJE.js";import{a as Dt,b as ye}from"./chunk-OFIFWCFJ.js";import{a as Ot,b as Ee}from"./chunk-FFFUUL2B.js";import{d as kt}from"./chunk-JQV6U24N.js";import{a as zt,b as Lt,c as Me}from"./chunk-EVXJS6DD.js";import{b as at}from"./chunk-CRZYDNRB.js";import{b as ht,c as Ie,d as le,e as Q}from"./chunk-TREYRKOP.js";import{a as ut,b as be}from"./chunk-55MPF5EN.js";import{e as _t,f as Nt,h as vt,i as Tt,l as St,m as Ct,n as bt,o as It,q as De}from"./chunk-KI3MUNGW.js";import{b as gt,c as ft,d as Le}from"./chunk-JOHRHLSX.js";import{e as nt,f as fe}from"./chunk-OXQW4PMW.js";import{c as ke,d as ze,e as ae}from"./chunk-6DLKQNDK.js";import{a as mt,b as dt,c as ct,d as pt,e as Ce}from"./chunk-WUHPQNSG.js";import"./chunk-YGLVR5WL.js";import{a as ne,d as G}from"./chunk-44NJU3LR.js";import"./chunk-Z347V25R.js";import{G as Se,H as x,I as ie,b as ot,d as te,e as rt,h as j,i as _e,o as R,p as Ne,q as st,t as ve,u as Te}from"./chunk-L3THJMBJ.js";import"./chunk-RAQ4VAB7.js";import{a as it,b as ge}from"./chunk-FMSTYN27.js";import"./chunk-QQPJAVIB.js";import"./chunk-RMC6N2HF.js";import"./chunk-GJX7JKAF.js";import"./chunk-WX6KJXZ2.js";import"./chunk-EXQESRXT.js";import"./chunk-5FUULRSO.js";import{a as J,b as A,c as q}from"./chunk-V5UEWFGK.js";import"./chunk-C55YZZU5.js";import{a as lt}from"./chunk-E6LDBMP7.js";import{a as Z,c as Y,d as K,e as ee,f as U}from"./chunk-GFVCXK67.js";import"./chunk-WOYNEQEU.js";import"./chunk-XSY6ZNJP.js";import"./chunk-W3KGMJG7.js";import"./chunk-B3MPBRHZ.js";import"./chunk-YUDS3XHK.js";import{m as X,n as F}from"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{c as tt,n as Ue}from"./chunk-PJEV5NXI.js";import{A as et,o as Ze,p as P,q as W,u as Ye,w as Ke}from"./chunk-GWV5DZOT.js";import{$b as T,Da as M,Ea as de,Fb as u,Gb as b,Gc as O,H as Ge,Hc as V,Ia as S,Ic as Fe,Ja as C,Lc as We,Mb as I,Mc as Xe,Sb as g,V as Qe,Vc as B,a as Re,ac as m,bc as d,cc as v,dc as ce,ec as pe,fb as Be,g as k,gc as L,m as z,nc as f,pc as _,sc as D,uc as ue,vc as He,wa as me,wc as y,xc as N,yc as $e,zc as E}from"./chunk-N7LPRJLK.js";function Zt(s,p){if(s&1){let c=L();m(0,"div",6)(1,"input",7),f("change",function(o){S(c);let n=_(2);return C(n.checkboxOnChange(o))}),d(),m(2,"label",8),N(3),d()()}if(s&2){let c=_().$implicit,i=_();u(1),D("name",c.name),g("checked",i.selectedColumns.includes(c.name)),u(1),D("for",c.name),u(1),E(" ",c.title,"")}}function Yt(s,p){if(s&1&&(m(0,"div"),T(1,Zt,4,4,"div",5),d()),s&2){let c=p.$implicit;u(1),g("ngIf",c.position%2!==0)}}function Kt(s,p){if(s&1){let c=L();m(0,"div",6)(1,"input",7),f("change",function(o){S(c);let n=_(2);return C(n.checkboxOnChange(o))}),d(),m(2,"label",8),N(3),d()()}if(s&2){let c=_().$implicit,i=_();u(1),D("name",c.name),g("checked",i.selectedColumns.includes(c.name)),u(1),D("for",c.name),u(1),E(" ",c.title,"")}}function ei(s,p){if(s&1&&(m(0,"div"),T(1,Kt,4,4,"div",5),d()),s&2){let c=p.$implicit;u(1),g("ngIf",c.position%2===0)}}var oe=(()=>{let p=class p{constructor(){this.checked=new I,this.unchecked=new I,this.allChecked=new I,this.allUnchecked=new I}checkboxOnChange(i){i.target.checked?(this.checked.emit(i),this.selectedColumns.length==this.columns.length?this.allColumnsSelected=!0:this.allColumnsSelected=!1):(this.unchecked.emit(i),this.selectedColumns.length==this.columns.length?this.allColumnsSelected=!0:this.allColumnsSelected=!1)}allCheckboxOnChange(i){let o,n=document.getElementById("columnsList").getElementsByTagName("input");for(o=0;o<n.length;++o)n[o].checked=i.target.checked,i.target.checked?(this.allColumnsSelected=!0,this.allChecked.emit(n[o].name)):(this.allColumnsSelected=!1,this.allUnchecked.emit(n[o].name))}};p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=M({type:p,selectors:[["column-selector"]],inputs:{columns:"columns",selectedColumns:"selectedColumns",allColumnsSelected:["allColumns","allColumnsSelected"]},outputs:{checked:"checked",unchecked:"unchecked",allChecked:"allChecked",allUnchecked:"allUnchecked"},standalone:!0,features:[O],decls:8,vars:3,consts:[["type","checkbox","name","allCheckbox",3,"checked","change"],["for","allCheckbox",2,"position","relative","top","2px"],["id","columnsList"],["nz-row","",2,"display","inline-block","width","50%","vertical-align","top"],[4,"ngFor","ngForOf"],["nz-col","",4,"ngIf"],["nz-col",""],["type","checkbox",3,"name","checked","change"],[2,"position","relative","top","2px",3,"for"]],template:function(o,n){o&1&&(m(0,"input",0),f("change",function(l){return n.allCheckboxOnChange(l)}),d(),m(1,"label",1),N(2," All"),d(),m(3,"div",2)(4,"div",3),T(5,Yt,2,1,"div",4),d(),m(6,"div",3),T(7,ei,2,1,"div",4),d()()),o&2&&(g("checked",n.allColumnsSelected),u(5),g("ngForOf",n.columns),u(2),g("ngForOf",n.columns))},dependencies:[q,A,J,P,W],styles:['.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#2196f3}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}']});let s=p;return s})();var qe=()=>({marginLeft:"10px",display:"inline-block",width:"60px"}),re=(()=>{let p=class p{constructor(){this.levelEvent=new I}ngOnInit(){this.levelSubject.subscribe(i=>{let o=Math.trunc(Number(i)/36e5),n=Math.trunc((Number(i)-o*36e5)/6e4),a=Math.trunc((Number(i)-(o*36e5+n*6e4))/1e3);this.hourValue=o,this.minuteValue=n,this.secondValue=a})}hourFormatter(i){return`${i}hrs`}minuteFormatter(i){return`${i}mins`}secondFormatter(i){return`${i}secs`}levelChange(){let i=Number(this.hourValue),o=Number(this.minuteValue),n=Number(this.secondValue);Number.isNaN(i)&&(i=0),Number.isNaN(o)&&(o=0),Number.isNaN(n)&&(n=0);let a=i*60*60*1e3+o*60*1e3+n*1e3;this.levelEvent.emit(a)}ngOnDestroy(){}};p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=M({type:p,selectors:[["level-slider"]],inputs:{levelSubject:"levelSubject"},outputs:{levelEvent:"levelEvent"},standalone:!0,features:[O],decls:24,vars:36,consts:[["nzSpan","17"],[3,"nzIncluded","ngModel","nzMin","nzMax","nzStep","nzTipFormatter","ngModelChange","nzOnAfterChange"],["nz-col","","nzSpan","7"],["type","text","id","hourTB",2,"display","none","visibility","hidden",3,"ngModel","ngModelChange"],["hourV",""],[3,"nzMin","nzMax","ngStyle","ngModel","ngModelChange"],["type","text","id","minutesTB",2,"display","none","visibility","hidden",3,"ngModel","ngModelChange"],["minuteV",""],[3,"ngStyle","nzMin","nzMax","ngModel","ngModelChange"],["type","text","id","secondsTB",2,"display","none","visibility","hidden",3,"ngModel","ngModelChange"],["secondV",""]],template:function(o,n){o&1&&(m(0,"nz-row")(1,"nz-col",0)(2,"nz-slider",1),f("ngModelChange",function(l){return n.hourValue=l})("nzOnAfterChange",function(){return n.levelChange()}),d()(),m(3,"div",2)(4,"input",3,4),f("ngModelChange",function(l){return n.hourValue=l})("ngModelChange",function(){return n.levelChange()}),d(),m(6,"nz-input-number",5),f("ngModelChange",function(l){return n.hourValue=l})("ngModelChange",function(){return n.levelChange()}),d(),N(7," hours "),d()(),m(8,"nz-row")(9,"nz-col",0)(10,"nz-slider",1),f("ngModelChange",function(l){return n.minuteValue=l})("nzOnAfterChange",function(){return n.levelChange()}),d()(),m(11,"div",2)(12,"input",6,7),f("ngModelChange",function(l){return n.minuteValue=l})("ngModelChange",function(){return n.levelChange()}),d(),m(14,"nz-input-number",8),f("ngModelChange",function(l){return n.minuteValue=l})("ngModelChange",function(){return n.levelChange()}),d(),N(15," minutes "),d()(),m(16,"nz-row")(17,"nz-col",0)(18,"nz-slider",1),f("ngModelChange",function(l){return n.secondValue=l})("nzOnAfterChange",function(){return n.levelChange()}),d()(),m(19,"div",2)(20,"input",9,10),f("ngModelChange",function(l){return n.secondValue=l})("ngModelChange",function(){return n.levelChange()}),d(),m(22,"nz-input-number",8),f("ngModelChange",function(l){return n.secondValue=l})("ngModelChange",function(){return n.levelChange()}),d(),N(23," seconds "),d()()),o&2&&(u(2),g("nzIncluded",!1)("ngModel",n.hourValue)("nzMin",0)("nzMax",24)("nzStep",1)("nzTipFormatter",n.hourFormatter),u(2),g("ngModel",n.hourValue),u(2),g("nzMin",0)("nzMax",24)("ngStyle",V(33,qe))("ngModel",n.hourValue),u(4),g("nzIncluded",!1)("ngModel",n.minuteValue)("nzMin",0)("nzMax",60)("nzStep",1)("nzTipFormatter",n.minuteFormatter),u(2),g("ngModel",n.minuteValue),u(2),g("ngStyle",V(34,qe))("nzMin",0)("nzMax",60)("ngModel",n.minuteValue),u(4),g("nzIncluded",!1)("ngModel",n.secondValue)("nzMin",0)("nzMax",60)("nzStep",1)("nzTipFormatter",n.secondFormatter),u(2),g("ngModel",n.secondValue),u(2),g("ngStyle",V(35,qe))("nzMin",0)("nzMax",60)("ngModel",n.secondValue))},dependencies:[q,A,J,ye,Dt,x,te,j,R,Ee,Ot,Ye],styles:["h4[_ngcontent-%COMP%]{margin:0 0 16px}.ant-slider-with-marks[_ngcontent-%COMP%]{margin-bottom:44px}"]});let s=p;return s})();function ti(s,p){if(s&1&&(m(0,"label",14),N(1),d()),s&2){let c=p.$implicit;D("nzValue",c.toString()),u(1),E("",c," / page")}}var xe=(()=>{let p=class p{constructor(){this.checked=new I,this.unchecked=new I,this.levelsUpdated=new I,this.allChecked=new I,this.allUnchecked=new I,this.defaultPaginationSet=new I,this.levelLimits=[],this.pickLowNotifier=new z,this.pickMediumNotifier=new z,this.qcLowNotifier=new z,this.qcMediumNotifier=new z,this.agLowNotifier=new z,this.agMediumNotifier=new z,this.pullingLowNotifier=new z,this.pullingMediumNotifier=new z,this.dropoffLowNotifier=new z,this.dropoffMediumNotifier=new z,this.packingLowNotifier=new z,this.packingMediumNotifier=new z}ngOnInit(){this.paginationValues=[100,50,1e3,500],this.paginationValues=this.paginationValues.sort((o,n)=>o-n),this.value="";let i=this.value.length;this.paginationValues.includes(Number(this.defaultPaginationValue))||(this.customPaginationValue=this.defaultPaginationValue),this.limitsNotifier.subscribe(o=>{for(let n=0;n<o.length;n++)this[o[n].eventName.toString().toLowerCase()+"LowNotifier"].next(o[n].lowLevelLimit),this[o[n].eventName.toString().toLowerCase()+"MediumNotifier"].next(o[n].mediumLevelLimit),this[o[n].eventName.toString().toLowerCase()+"Low"]=o[n].lowLevelLimit,this[o[n].eventName.toString().toLowerCase()+"Medium"]=o[n].mediumLevelLimit})}onColumnSelected(i){this.checked.emit(i)}onColumnUnselected(i){this.unchecked.emit(i)}onAllColumnsSelected(i){this.allChecked.emit(i)}onAllColumnsUnselected(i){this.allUnchecked.emit(i)}onLevelChange(){this.levelLimits=[],this.levelLimits.push({eventName:"Pick",eventId:301,lowLimit:this.pickLow?this.pickLow:0,mediumLimit:this.pickMedium?this.pickMedium:0}),this.levelLimits.push({eventName:"QC",eventId:200,lowLimit:this.qcLow?this.qcLow:0,mediumLimit:this.qcMedium?this.qcMedium:0}),this.levelLimits.push({eventName:"Ag",eventId:1,lowLimit:this.agLow?this.agLow:0,mediumLimit:this.agMedium?this.agMedium:0}),this.levelLimits.push({eventName:"Pulling",eventId:400,lowLimit:this.pullingLow?this.pullingLow:0,mediumLimit:this.pullingMedium?this.pullingMedium:0}),this.levelLimits.push({eventName:"DropOff",eventId:500,lowLimit:this.dropoffLow?this.dropoffLow:0,mediumLimit:this.dropoffMedium?this.dropoffMedium:0}),this.levelLimits.push({eventName:"Packing",eventId:800,lowLimit:this.packingLow?this.packingLow:0,mediumLimit:this.packingMedium?this.packingMedium:0}),this.levelsUpdated.emit(this.levelLimits)}pickLowEvent(i){this.pickLow=i,this.onLevelChange()}pickMediumEvent(i){this.pickMedium=i,this.onLevelChange()}qcLowEvent(i){this.qcLow=i,this.onLevelChange()}qcMediumEvent(i){this.qcMedium=i,this.onLevelChange()}agLowEvent(i){this.agLow=i,this.onLevelChange()}agMediumEvent(i){this.agMedium=i,this.onLevelChange()}pullLowEvent(i){this.pullingLow=i,this.onLevelChange()}pullMediumEvent(i){this.pullingMedium=i,this.onLevelChange()}dropOffLowEvent(i){this.dropoffLow=i,this.onLevelChange()}dropOffMediumEvent(i){this.dropoffMedium=i,this.onLevelChange()}packLowEvent(i){this.packingLow=i,this.onLevelChange()}packMediumEvent(i){this.packingMedium=i,this.onLevelChange()}defaultPaginationChange(i){this.defaultPaginationSet.emit(i)}customPaginationChange(i){this.defaultPaginationSet.emit(this.customPaginationValue)}};p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=M({type:p,selectors:[["tabs-view"]],inputs:{columns:"columns",selectedColumns:"selectedColumns",allColumnsSelected:["allColumns","allColumnsSelected"],limitsNotifier:"limitsNotifier",defaultPaginationValue:"defaultPaginationValue",customPaginationValue:"customPaginationValue"},outputs:{checked:"checked",unchecked:"unchecked",levelsUpdated:"levelsUpdated",allChecked:"allChecked",allUnchecked:"allUnchecked",defaultPaginationSet:"defaultPaginationSet"},standalone:!0,features:[O],decls:113,vars:29,consts:[[3,"nzTitle","nzForceRender"],[3,"columns","selectedColumns","allColumns","checked","unchecked","allChecked","allUnchecked"],[3,"nzTitle"],["nz-row","","nzAlign","middle",2,"padding-left","5px"],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","20"],[2,"height","20px","width","20px","background-color","yellow"],["nz-row","",2,"padding-left","5px"],["nz-col","","nzSpan","24"],[3,"levelSubject","levelEvent"],["nz-col","","nzSpan","3"],[2,"height","20px","width","20px","background-color","orange"],[3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue"],["nz-input","","type","number",2,"width","70px",3,"ngModel","ngModelChange","change"]],template:function(o,n){o&1&&(m(0,"nz-tabset")(1,"nz-tab",0)(2,"column-selector",1),f("checked",function(l){return n.onColumnSelected(l)})("unchecked",function(l){return n.onColumnUnselected(l)})("allChecked",function(l){return n.onAllColumnsSelected(l)})("allUnchecked",function(l){return n.onAllColumnsUnselected(l)}),d()(),m(3,"nz-tab",2)(4,"nz-tabset")(5,"nz-tab",2)(6,"div",3)(7,"div",4),N(8,"Low"),d(),m(9,"div",5),v(10,"div",6),d()(),m(11,"div",7)(12,"div",8)(13,"level-slider",9),f("levelEvent",function(l){return n.pickLowEvent(l)}),d()()(),m(14,"div",7)(15,"div",10),N(16,"Medium"),d(),m(17,"div",5),v(18,"div",11),d()(),m(19,"div",7)(20,"div",8)(21,"level-slider",9),f("levelEvent",function(l){return n.pickMediumEvent(l)}),d()()()(),m(22,"nz-tab",2)(23,"div",3)(24,"div",4),N(25,"Low"),d(),m(26,"div",5),v(27,"div",6),d()(),m(28,"div",7)(29,"div",8)(30,"level-slider",9),f("levelEvent",function(l){return n.qcLowEvent(l)}),d()()(),m(31,"div",7)(32,"div",10),N(33,"Medium"),d(),m(34,"div",5),v(35,"div",11),d()(),m(36,"div",7)(37,"div",8)(38,"level-slider",9),f("levelEvent",function(l){return n.qcMediumEvent(l)}),d()()()(),m(39,"nz-tab",2)(40,"div",3)(41,"div",4),N(42,"Low"),d(),m(43,"div",5),v(44,"div",6),d()(),m(45,"div",7)(46,"div",8)(47,"level-slider",9),f("levelEvent",function(l){return n.agLowEvent(l)}),d()()(),m(48,"div",7)(49,"div",10),N(50,"Medium"),d(),m(51,"div",5),v(52,"div",11),d()(),m(53,"div",7)(54,"div",8)(55,"level-slider",9),f("levelEvent",function(l){return n.agMediumEvent(l)}),d()()()(),m(56,"nz-tab",2)(57,"div",3)(58,"div",4),N(59,"Low"),d(),m(60,"div",5),v(61,"div",6),d()(),m(62,"div",7)(63,"div",8)(64,"level-slider",9),f("levelEvent",function(l){return n.pullLowEvent(l)}),d()()(),m(65,"div",7)(66,"div",10),N(67,"Medium"),d(),m(68,"div",5),v(69,"div",11),d()(),m(70,"div",7)(71,"div",8)(72,"level-slider",9),f("levelEvent",function(l){return n.pullMediumEvent(l)}),d()()()(),m(73,"nz-tab",2)(74,"div",3)(75,"div",4),N(76,"Low"),d(),m(77,"div",5),v(78,"div",6),d()(),m(79,"div",7)(80,"div",8)(81,"level-slider",9),f("levelEvent",function(l){return n.dropOffLowEvent(l)}),d()()(),m(82,"div",7)(83,"div",10),N(84,"Medium"),d(),m(85,"div",5),v(86,"div",11),d()(),m(87,"div",7)(88,"div",8)(89,"level-slider",9),f("levelEvent",function(l){return n.dropOffMediumEvent(l)}),d()()()(),m(90,"nz-tab",2)(91,"div",3)(92,"div",4),N(93,"Low"),d(),m(94,"div",5),v(95,"div",6),d()(),m(96,"div",7)(97,"div",8)(98,"level-slider",9),f("levelEvent",function(l){return n.packLowEvent(l)}),d()()(),m(99,"div",7)(100,"div",10),N(101,"Medium"),d(),m(102,"div",5),v(103,"div",11),d()(),m(104,"div",7)(105,"div",8)(106,"level-slider",9),f("levelEvent",function(l){return n.packMediumEvent(l)}),d()()()()()(),m(107,"nz-tab",2)(108,"nz-radio-group",12),f("ngModelChange",function(l){return n.defaultPaginationValue=l})("ngModelChange",function(l){return n.defaultPaginationChange(l)}),T(109,ti,2,2,"label",13),m(110,"label",14)(111,"input",15),f("ngModelChange",function(l){return n.customPaginationValue=l})("change",function(l){return n.customPaginationChange(l)}),d(),N(112," / page"),d()()()()),o&2&&(u(1),g("nzTitle","Selected Columns")("nzForceRender",!0),u(1),g("columns",n.columns)("selectedColumns",n.selectedColumns)("allColumns",n.allColumnsSelected),u(1),g("nzTitle","Highlight Limits"),u(2),g("nzTitle","Pick"),u(8),g("levelSubject",n.pickLowNotifier),u(8),g("levelSubject",n.pickMediumNotifier),u(1),g("nzTitle","QC"),u(8),g("levelSubject",n.qcLowNotifier),u(8),g("levelSubject",n.qcMediumNotifier),u(1),g("nzTitle","Aggregation"),u(8),g("levelSubject",n.agLowNotifier),u(8),g("levelSubject",n.agMediumNotifier),u(1),g("nzTitle","Pulling"),u(8),g("levelSubject",n.pullingLowNotifier),u(8),g("levelSubject",n.pullingMediumNotifier),u(1),g("nzTitle","Drop Off"),u(8),g("levelSubject",n.dropoffLowNotifier),u(8),g("levelSubject",n.dropoffMediumNotifier),u(1),g("nzTitle","Packing"),u(8),g("levelSubject",n.packingLowNotifier),u(8),g("levelSubject",n.packingMediumNotifier),u(1),g("nzTitle","Pagination Options"),u(1),g("ngModel",n.defaultPaginationValue),u(1),g("ngForOf",n.paginationValues),u(1),D("nzValue",n.customPaginationValue),u(1),g("ngModel",n.customPaginationValue))},dependencies:[Oe,yt,Mt,oe,q,A,J,re,Le,ft,gt,x,te,st,j,R,P,G,ne],styles:["[nz-radio][_ngcontent-%COMP%]{display:block}"]});let s=p;return s})();function ai(s,p){if(s&1&&v(0,"nz-option",14),s&2){let c=p.$implicit;ue("nzValue","",c.id,",",c.name,""),D("nzLabel",c.name)}}function oi(s,p){if(s&1){let c=L();v(0,"nz-divider"),m(1,"div",15),v(2,"input",16,17),m(4,"a",18),f("click",function(){S(c);let o=y(3),n=_(2);return C(n.addTemplate(o))}),v(5,"i",19),N(6," Add Item "),d()()}}function ri(s,p){if(s&1){let c=L();m(0,"input",20),f("ngModelChange",function(o){S(c);let n=_(2);return C(n.templateNameValue=o)}),d()}if(s&2){let c=_(2);D("value",c.templateNameValue),g("ngModel",c.templateNameValue)}}function si(s,p){if(s&1){let c=L();m(0,"button",21),f("click",function(){S(c);let o=_(2);return C(o.deleteTemplate())}),v(1,"i",22),d()}}var mi=()=>({standalone:!0});function di(s,p){if(s&1){let c=L();ce(0),m(1,"nz-select",5),f("ngModelChange",function(o){S(c);let n=_();return C(n.selectedTemplateId=o)})("ngModelChange",function(o){S(c);let n=_();return C(n.onTemplateChange(o))}),T(2,ai,1,3,"nz-option",6),d(),T(3,oi,7,0,"ng-template",null,7,B),m(5,"form",8),T(6,ri,1,2,"input",9),d(),T(7,si,2,0,"button",10),m(8,"div")(9,"input",11),f("ngModelChange",function(o){S(c);let n=_();return C(n.defaultTemplate=o)}),d(),m(10,"label",12),N(11," Default Template"),d()(),m(12,"tabs-view",13),f("checked",function(o){S(c);let n=_();return C(n.onColumnSelected(o))})("unchecked",function(o){S(c);let n=_();return C(n.onColumnUnselected(o))})("allChecked",function(o){S(c);let n=_();return C(n.onAllColumnsSelected(o))})("allUnchecked",function(o){S(c);let n=_();return C(n.onAllColumnsUnselected(o))})("levelsUpdated",function(o){S(c);let n=_();return C(n.onLevelsChanged(o))})("defaultPaginationSet",function(o){S(c);let n=_();return C(n.setDefaultPagination(o))}),d(),pe()}if(s&2){let c=y(4),i=_();u(1),g("nzDropdownRender",c)("ngModel",i.selectedTemplateId)("ngModelOptions",V(14,mi)),u(1),g("ngForOf",i.templates),u(3),g("formGroup",i.templateForm),u(1),g("ngIf",i.templateId),u(1),g("ngIf",i.templateId&&i.templateId!=i.activeTemplateId),u(2),g("ngModel",i.defaultTemplate),u(3),g("columns",i.columns)("selectedColumns",i.selectedColumns)("allColumns",i.allColumns)("limitsNotifier",i.limitsNotifier)("defaultPaginationValue",i.defaultPaginationValue)("customPaginationValue",i.customPaginationValue)}}function ci(s,p){if(s&1){let c=L();m(0,"span",23),N(1),d(),m(2,"button",24),f("click",function(){S(c);let o=_();return C(o.handleCancel())}),N(3," Cancel "),d(),m(4,"button",25),f("click",function(){S(c);let o=_();return C(o.handleOk())}),N(5," Save "),d()}if(s&2){let c=_();u(1),$e(c.message),u(3),g("disabled",c.templateId?"false":"true")}}var we=(()=>{let p=class p{constructor(i,o,n,a,l,t,r,h,e,w){this._findITNTemplate=i,this._updateITNTemplate=o,this._deleteITNLevelLimit=n,this._insertITNLevelLimit=a,this._insertITNTemplate=l,this._deleteITNTemplate=t,this._clearITNDefaultTemplate=r,this._userInfo=h,this.fb=e,this.modal=w,this.modalClosed=new I,this.columnSelector=new oe,this.selTempSub=new k,this.updateTempSub=new k,this.deleteLevelLimitSub=new k,this.insertLevelLimitSub=new k,this.insertTemplateSub=new k,this.deleteTemplateSub=new k,this.clearDefaultTemplateSub=new k,this.limits=[],this.isVisible=!1,this.limitsNotifier=new z,this.templateForm=this.fb.group({templateName:[]})}ngOnInit(){this.columnSelector.columns=this.columns,this.columnSelector.selectedColumns=this.selectedColumns,this.paginationValues=[100,50,1e3,500],this.defaultTemplate=!1}showModal(){this.templateNameValue=this.activeTemplateName,this.activeTemplateId&&this.templateNameValue&&(this.selectedTemplateId=this.activeTemplateId.toString()+","+this.activeTemplateName,this.templateId=this.activeTemplateId,this.loadTemplate()),this.templateId&&(this.tempIdStr=this.templateId.toString()),this.selectedColumns&&(this.tempSelectedColumns=this.selectedColumns),this.isVisible=!0}handleCancel(){this.setMessage(""),this.isVisible=!1}handleClose(){this.selectedTemplateId=null,this.selectedColumns=[],this.allColumns=!1,this.defaultTemplate=!1,this.modalClosed.emit()}handleOk(){if(this.templateNameValue==="")this.setMessage("Template Name Required"),setTimeout(()=>{this.setMessage("")});else{let i="",o="",n="";for(let a=0;a<this.tempSelectedColumns.length;a++)i+=o+this.tempSelectedColumns[a],o=",";if(this.defaultTemplate){let a=Number(this._userInfo.userId);this.clearDefaultTemplateSub.add(this._clearITNDefaultTemplate.mutate({userID:a}).subscribe(l=>{},l=>{n=l,this.setMessage("Error Saving Template")}))}this.updateTempSub.add(this._updateITNTemplate.mutate({_id:this.templateId,templateName:this.templateForm.get("templateName").value,selectedColumns:i,defaultPagination:Number(this.defaultPaginationValue),defaultTemplate:this.defaultTemplate}).subscribe(a=>{this.deleteLevelLimitSub.add(this._deleteITNLevelLimit.mutate({templateID:this.templateId}).subscribe(l=>{for(let t=0;t<this.levelLimits.length;t++)this.insertLevelLimitSub.add(this._insertITNLevelLimit.mutate({templateID:this.templateId,eventName:this.levelLimits[t].eventName,eventID:Number(this.levelLimits[t].eventId),lowLevelLimit:Number(this.levelLimits[t].lowLimit),mediumLevelLimit:Number(this.levelLimits[t].mediumLimit)}).subscribe(r=>{this.setMessage("Template Saved")},r=>{n=r,this.setMessage("Error Saving Template")}))},l=>{n=l,this.setMessage("Error Saving Template")}))},a=>{n=a,this.setMessage("Error Saving Template")}))}}setMessage(i){this.message=i}addTemplate(i){let o=this._userInfo.userId,n="",a="";for(let l=0;l<this.columns.length;l++)a+=n+this.columns[l].name,n=",";this.defaultTemplate&&this.clearDefaultTemplateSub.add(this._clearITNDefaultTemplate.mutate({userID:o}).subscribe(l=>{},l=>{this.setMessage("Error Adding Template")})),this.insertTemplateSub.add(this._insertITNTemplate.mutate({userID:o,templateName:i.value,selectedColumns:a}).subscribe(l=>{let t=l.data.insertITNUserTemplate._id,r={name:i.value,id:t};this.templates.push(r);let h=[{eventName:"Pick",eventID:301},{eventName:"QC",eventID:200},{eventName:"Ag",eventID:1},{eventName:"Pulling",eventID:400},{eventName:"DropOff",eventID:500}];for(let e=0;e<h.length;e++)this.insertLevelLimitSub.add(this._insertITNLevelLimit.mutate({templateID:t,eventName:h[e].eventName,eventID:Number(h[e].eventID),lowLevelLimit:0,mediumLevelLimit:0}).subscribe(w=>{this.setMessage("Template Added")},w=>{this.setMessage("Error Adding Template")}))},l=>{this.setMessage("Error Adding Template")}))}deleteTemplate(){this.modal.confirm({nzTitle:"Are you sure you want to delete this Template?",nzOnOk:()=>{this.deleteLevelLimitSub.add(this._deleteITNLevelLimit.mutate({templateID:this.templateId}).subscribe(i=>{this.deleteTemplateSub.add(this._deleteITNTemplate.mutate({_id:Number(this.templateId)}).subscribe(o=>{let n=this.templates.find(l=>l.id==this.templateId),a=this.templates.indexOf(n);a>-1&&this.templates.splice(a,1),this.templateId=null,this.selectedTemplateId=null,this.templateNameValue=null,this.selectedColumns=[],this.limits=[{eventName:"Pick",eventId:301,lowLevelLimit:null,mediumLevelLimit:null},{eventName:"QC",eventId:200,lowLevelLimit:null,mediumLevelLimit:null},{eventName:"Ag",eventId:1,lowLevelLimit:null,mediumLevelLimit:null},{eventName:"Pulling",eventId:400,lowLevelLimit:null,mediumLevelLimit:null},{eventName:"DropOff",eventId:500,lowLevelLimit:null,mediumLevelLimit:null}],this.limitsNotifier.next(this.limits),this.setMessage("Template Deleted")},o=>{console.log(o),this.setMessage("Error Deleting Template")}))},i=>{console.log(i),this.setMessage("Error Deleting Template")}))}})}onLevelsChanged(i){this.levelLimits=i}setDefaultPagination(i){this.defaultPaginationValue=i.toString()}onColumnSelected(i){this.tempSelectedColumns.indexOf(i.target.name)==-1&&this.tempSelectedColumns.push(i.target.name)}onColumnUnselected(i){let o=this.tempSelectedColumns.indexOf(i.target.name);o>-1&&this.tempSelectedColumns.splice(o,1)}onAllColumnsSelected(i){this.tempSelectedColumns.indexOf(i)==-1&&this.tempSelectedColumns.push(i)}onAllColumnsUnselected(i){let o=this.tempSelectedColumns.indexOf(i);o>-1&&this.tempSelectedColumns.splice(o,1)}onTemplateChange(i){this.setMessage("");let o=i.split(",");this.templateId=Number(o[0]),this.templateNameValue=o[1],this.loadTemplate(),this.templateNameValue=o[1]}loadTemplate(){this.selTempSub.add(this._findITNTemplate.fetch({_id:this.templateId},{fetchPolicy:"network-only"}).subscribe(i=>{if(i.data.findITNTemplate.length>0){let n={name:i.data.findITNTemplate[0].TemplateName,id:i.data.findITNTemplate[0]._id,selectedColumns:i.data.findITNTemplate[0].SelectedColumns};if(this.defaultTemplate=i.data.findITNTemplate[0].DefaultTemplate?i.data.findITNTemplate[0].DefaultTemplate:!1,this.defaultPaginationValue=i.data.findITNTemplate[0].DefaultPagination?i.data.findITNTemplate[0].DefaultPagination.toString():"50",this.paginationValues.includes(Number(this.defaultPaginationValue))?this.customPaginationValue=null:this.customPaginationValue=this.defaultPaginationValue,i.data.findITNTemplate[0].ITNLEVELLIMITs.length>0){let a=[];this.levelLimits=[];for(let l=0;l<i.data.findITNTemplate[0].ITNLEVELLIMITs.length;l++){let t={id:i.data.findITNTemplate[0].ITNLEVELLIMITs[l]._id,templateId:i.data.findITNTemplate[0].ITNLEVELLIMITs[l].TemplateID,eventName:i.data.findITNTemplate[0].ITNLEVELLIMITs[l].EventName,eventId:i.data.findITNTemplate[0].ITNLEVELLIMITs[l].EventID,lowLevelLimit:i.data.findITNTemplate[0].ITNLEVELLIMITs[l].LowLevelLimit,mediumLevelLimit:i.data.findITNTemplate[0].ITNLEVELLIMITs[l].MediumLevelLimit};a.push(t),this.levelLimits.push({eventName:t.eventName,eventId:t.eventId,lowLimit:t.lowLevelLimit,mediumLimit:t.mediumLevelLimit})}this.limits=a,this.limitsNotifier.next(this.limits)}this.selectedTemplate=n}this.selectedColumns=[];let o=this.selectedTemplate.selectedColumns.split(",");for(let n=0;n<o.length;n++){let a=this.columns.find(l=>l.name==o[n]);a&&this.selectedColumns.push(a.name)}this.tempSelectedColumns=this.selectedColumns,this.columns.length<=this.selectedColumns.length?this.allColumns=!0:this.allColumns=!1}))}ngOnDestroy(){try{}catch(i){console.log("Error: "+i)}}};p.\u0275fac=function(o){return new(o||p)(b(Ve),b(Ft),b(Jt),b(qt),b(jt),b(At),b(Ut),b(he),b(Se),b(ht))},p.\u0275cmp=M({type:p,selectors:[["template-settings"]],inputs:{templates:"templates",columns:"columns",selectedColumns:"selectedColumns",templateNameValue:"templateNameValue",activeTemplateId:"activeTemplateId",activeTemplateName:"activeTemplateName"},outputs:{modalClosed:"modalClosed"},standalone:!0,features:[O],decls:6,vars:2,consts:[["nz-button","",3,"click"],["nz-icon","","nzType","form","nzTheme","outline","title","Template Settings"],["nzTitle","Template Settings","nzOkText","Save",3,"nzVisible","nzFooter","nzVisibleChange","nzOnCancel","nzOnOk","nzAfterClose"],[4,"nzModalContent"],["footer",""],["nzPlaceHolder","Select Template",1,"templateSelect",3,"nzDropdownRender","ngModel","ngModelOptions","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["renderTemplate",""],[3,"formGroup"],["nz-input","","type","text","class","textBox","PlaceHolder","Template Name","formControlName","templateName",3,"ngModel","value","ngModelChange",4,"ngIf"],["nz-button","","nzDanger","",3,"click",4,"ngIf"],["type","checkbox","name","defaultTemplateCB",3,"ngModel","ngModelChange"],["for","defaultTemplateCB",2,"position","relative","top","2px"],[3,"columns","selectedColumns","allColumns","limitsNotifier","defaultPaginationValue","customPaginationValue","checked","unchecked","allChecked","allUnchecked","levelsUpdated","defaultPaginationSet"],[3,"nzValue","nzLabel"],[1,"container"],["type","text","nz-input",""],["inputElement",""],[1,"add-item",3,"click"],["nz-icon","","nzType","plus"],["nz-input","","type","text","PlaceHolder","Template Name","formControlName","templateName",1,"textBox",3,"ngModel","value","ngModelChange"],["nz-button","","nzDanger","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],[2,"margin-right","10px"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(o,n){if(o&1&&(m(0,"button",0),f("click",function(){return n.showModal()}),v(1,"i",1),d(),m(2,"nz-modal",2),f("nzVisibleChange",function(l){return n.isVisible=l})("nzOnCancel",function(){return n.handleCancel()})("nzOnOk",function(){return n.handleOk()})("nzAfterClose",function(){return n.handleClose()}),T(3,di,13,15,"ng-container",3)(4,ci,6,2,"ng-template",null,4,B),d()),o&2){let a=y(5);u(2),g("nzVisible",n.isVisible)("nzFooter",a)}},dependencies:[U,ee,Z,Y,K,F,X,Q,le,Ie,ae,ke,ze,x,Ne,te,ot,j,_e,R,P,be,ut,G,ne,ie,ve,Te,W,xe],styles:[".templateSelect[_ngcontent-%COMP%]{width:200px}nz-divider[_ngcontent-%COMP%]{margin:4px 0}form[_ngcontent-%COMP%]{display:inline}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:8px}.add-item[_ngcontent-%COMP%]{flex:0 0 auto;padding:8px;display:block}.textBox[_ngcontent-%COMP%]{width:200px;margin-left:5px;display:inline}"]});let s=p;return s})();function pi(s,p){if(s&1&&v(0,"nz-option",25),s&2){let c=p.$implicit;ue("nzValue","",c.id,",",c.name,""),D("nzLabel",c.name)}}function ui(s,p){s&1&&v(0,"div")}function hi(s,p){s&1&&v(0,"i",26)}function gi(s,p){s&1&&(m(0,"div",27)(1,"span"),v(2,"nz-spin",28),d()()),s&2&&(u(2),g("nzSize","large"))}function fi(s,p){s&1&&(m(0,"div",29)(1,"div"),N(2,"The ITN Lifecycle report can only be run after 3:00 PM MST"),d()())}function _i(s,p){if(s&1){let c=L();m(0,"nz-filter-trigger",39),f("nzVisibleChange",function(o){S(c);let n=_().$implicit;return C(n.searchVisible=o)}),v(1,"i",40),d()}if(s&2){let c=_().$implicit,i=y(4);g("nzVisible",c.searchVisible)("nzActive",c.searchActive)("nzDropdownMenu",i)}}var Ni=()=>["ascend","descend"];function vi(s,p){if(s&1){let c=L();m(0,"th",30),N(1),T(2,_i,2,3,"nz-filter-trigger",31),m(3,"nz-dropdown-menu",null,32)(5,"div",33)(6,"div",34),v(7,"input",35,36),m(9,"button",37),f("click",function(){let n=S(c).$implicit,a=y(8),l=_();return C(l.setFilter(n,a.value))}),N(10," Search "),d(),m(11,"button",38),f("click",function(){let n=S(c).$implicit,a=y(8),l=_();return a.value="",C(l.clearFilter(n))}),N(12," Reset "),d()()()()()}if(s&2){let c=p.$implicit;g("nzWidth",c.width)("nzSortOrder",null)("nzSortDirections",V(7,Ni))("nzSortFn",c.sortFn),u(1),E(" ",c.title," "),u(1),g("ngIf",c.searchable),u(5),D("placeholder",c.title)}}function Ti(s,p){if(s&1){let c=L();m(0,"td",43),f("click",function(){S(c);let o=_().$implicit,n=_().$implicit,a=_();return C(a.onDrilldown(n,o.name))}),N(1),d()}if(s&2){let c=_().$implicit,i=_().$implicit;He("title","Drill down for ",c.name=="Order"?"Order "+i[c.dataName]+" ":"","",c.name=="Line"?"Order "+i.OrderNOSI+", Line "+i[c.dataName]+" ":"","",c.name=="ITN"?"Order "+i.OrderNOSI+", Line "+i.OrderLineNumber+", ITN "+i[c.dataName]+" ":"",""),g("ngClass","drilldown"),u(1),E(" ",i[c.dataName]," ")}}function Si(s,p){if(s&1&&(m(0,"td",44),N(1),d()),s&2){let c=_().$implicit,i=_().$implicit,o=_();g("ngClass",o.getClass(i[c.eventGroup+"StartNum"],i[c.eventGroup+"DoneNum"],c.eventGroup)),u(1),E(" ",i[c.dataName]," ")}}function Ci(s,p){if(s&1&&T(0,Ti,2,5,"td",41)(1,Si,2,2,"td",42),s&2){let c=p.$implicit;g("ngIf",c.drilldown),u(1),g("ngIf",!c.drilldown)}}function bi(s,p){if(s&1&&(m(0,"tr"),T(1,Ci,2,2,"ng-template",21),d()),s&2){let c=_();u(1),g("ngForOf",c.columnsVisible)}}function Ii(s,p){if(s&1&&(m(0,"th",49),N(1),d()),s&2){let c=p.$implicit;g("nzWidth",c.width),u(1),E(" ",c.name," ")}}function ki(s,p){if(s&1&&(m(0,"td"),N(1),d()),s&2){let c=p.$implicit,i=_().$implicit;u(1),E(" ",i[c.dataName]," ")}}function zi(s,p){if(s&1&&(m(0,"tr"),T(1,ki,2,1,"td",48),d()),s&2){let c=_(2);u(1),g("ngForOf",c.drillDownColumns)}}var Li=s=>({x:"90%",y:s});function Di(s,p){if(s&1&&(m(0,"nz-table",45,46)(2,"thead")(3,"tr"),T(4,Ii,2,2,"th",47),d()(),m(5,"tbody"),T(6,zi,2,1,"tr",48),d()()),s&2){let c=y(1),i=_();g("nzData",i.drilldownTableData)("nzShowPagination",!1)("nzPageSize",1e3)("nzScroll",Fe(6,Li,i.drilldownHeight)),u(4),g("ngForOf",i.drillDownColumns),u(2),g("ngForOf",c.data)}}function Mi(s,p){if(s&1){let c=L();m(0,"div",50)(1,"button",13),f("click",function(){S(c);let o=_();return C(o.exportDrilldown())}),N(2,"Export to Excel"),d()()}}var yi=()=>({standalone:!0}),Oi=()=>[],Ei=s=>({y:s}),Pe=(()=>{let p=class p{adjustDate(i,o){let n=new Date(i.getTime());return n.setDate(n.getDate()+o),n}onDatePickerOpen(i){if(!i)this.calendarStartDate=null,this.calendarEndDate=null;else{let o=this.filterForm.get("testDateRange").value;o&&(o.length>=1&&(this.calendarStartDate=o[0]),o.length==2&&(this.calendarEndDate=o[1]))}}constructor(i,o,n,a,l,t,r,h,e,w){this._title=i,this.fb=o,this._fetchITNLife=n,this._fetchDrilldown=a,this._fetchDrillDownRows=l,this._findITNTemplates=t,this._findITNTemplate=r,this._findITNColumns=h,this.titleService=e,this._userInfo=w,this.isLoading=!1,this.timeLock=!1,this.tableData=[],this.tableDataDisplay=[],this.drilldownTableData=[],this.drilldownTableData2=[],this.timeformat={},this.subscription=new k,this.templateList=new k,this.selTempSub=new k,this.columnsSubscription=new k,this.drillDownSubscription=new k,this.drillDownRowsSubscription=new k,this.columnsVisible=[],this.columnsVisible2=[],this.drillDownColumns=[],this.columnsVisibleId="",this.preColSpan=0,this.pickColSpan=0,this.qcColSpan=0,this.agColSpan=0,this.pullingColSpan=0,this.dropoffColSpan=0,this.postColSpan=0,this.templateNames=[],this.searchVisible=!1,this.searchActive=!0,this.searchValue="",this.disabledDate=se=>!this.calendarStartDate&&!this.calendarEndDate?!1:this.calendarEndDate?se.getTime()<this.adjustDate(this.calendarEndDate,-7).getTime()||se.getTime()>this.adjustDate(this.calendarStartDate,6).getTime():se.getTime()<this.adjustDate(this.calendarStartDate,-7).getTime()||se.getTime()>this.adjustDate(this.calendarStartDate,6).getTime(),this.filterForm=this.fb.group({dateRangePicker:["",[rt.required]]}),this._title.update("ITN Lifecycle"),this.titleService.setTitle("ITN Lifecycle")}onCalendarChange(i){i&&(i.length>=1&&(this.calendarStartDate=i[0],this.calendarEndDate=null),i.length==2&&(this.calendarEndDate=i[1]))}ngOnInit(){let i=new Date,o=i.getHours();if(console.log(i.getHours()),o<15){this.timeLock=!0;return}let n=new Date(Date.now()),a=new Date(Date.now());n.setDate(a.getDate()-7),this.defaultDate=[],this.defaultDate.push(n),this.defaultDate.push(a),this.dateRange=[],this.drillDownColumns=[{name:"Order",dataName:"OrderNumber",width:"200px"},{name:"NOSI",dataName:"NOSINumber",width:"100px"},{name:"Line",dataName:"OrderLineNumber",width:"100px"},{name:"ITN",dataName:"InventoryTrackingNumber",width:"200px"},{name:"Parent ITN",dataName:"ParentITN",width:"200px"},{name:"Event",dataName:"Event",width:"200px"},{name:"Module",dataName:"Module",width:"100px"},{name:"Date/Time",dataName:"DateTime",width:"200px"},{name:"User",dataName:"Name",width:"200px"},{name:"DC",dataName:"DistributionCenter",width:"100px"},{name:"Quantity",dataName:"Quantity",width:"100px"},{name:"Cust",dataName:"CustomerNumber",width:"100px"},{name:"Cust Tier",dataName:"CustomerTier",width:"120px"},{name:"Part",dataName:"PrcNumber",width:"225px"},{name:"Part Tier",dataName:"ProductTier",width:"120px"},{name:"Zone",dataName:"Zone",width:"100px"},{name:"WMSPriority",dataName:"WMSPriority",width:"150px"},{name:"Priority",dataName:"Priority",width:"110px"},{name:"Notes",dataName:"Message",width:"300px"},{name:"Shipment Method",dataName:"ShipmentMethod",width:"200px"},{name:"Shipment Description",dataName:"ShipmentMethodDescription",width:"300px"},{name:"Tracking #",dataName:"TrackingNumber",width:"200px"}],this.screenWidth=window.innerWidth+"px",this.screenHeight=window.innerHeight-300+"px",this.drilldownHeight=window.innerHeight-300-100+"px",this.selectedTemplate={};let l=this._userInfo.userId;this.userId=l.toString(),this.templateNames=[],this.templates=[],this.columns=[],this.paging=!0,this.paginationValues=[100,50,1e3,500],this.paginationValues=this.paginationValues.sort((t,r)=>t-r),this.pageSize=50,this.pageNumber=1,this.filters=[],this.drilldownBodyStyle={height:this.screenHeight},this.columnsSubscription.add(this._findITNColumns.fetch({userId:Number(this.userId)}).subscribe(t=>{for(let r=0;r<t.data.findITNColumns.length;r++){let h={name:t.data.findITNColumns[r].name,title:t.data.findITNColumns[r].title,dataName:t.data.findITNColumns[r].dataName,colSpan:t.data.findITNColumns[r].colSpan,position:t.data.findITNColumns[r].position,width:t.data.findITNColumns[r].width,eventGroup:t.data.findITNColumns[r].eventGroup,eventName:t.data.findITNColumns[r].eventName,searchable:t.data.findITNColumns[r].searchable,drilldown:t.data.findITNColumns[r].drilldown};this.columns.push(h)}},t=>{console.log(t)})),this.templateList.add(this._findITNTemplates.fetch({userId:Number(this.userId)},{fetchPolicy:"network-only"}).subscribe(t=>{for(let r=0;r<t.data.findITNTemplates.length;r++){let h={name:t.data.findITNTemplates[r].TemplateName,id:t.data.findITNTemplates[r]._id};this.templates.push(h),this.templateNames.push(t.data.findITNTemplates[r].TemplateName),t.data.findITNTemplates[r].DefaultTemplate&&(this.templateIdName=t.data.findITNTemplates[r]._id.toString()+","+t.data.findITNTemplates[r].TemplateName,this.templateId=t.data.findITNTemplates[r]._id,this.templateNameValue=t.data.findITNTemplates[r].TemplateName,this.onTemplateChange(this.templateId.toString()+","+this.templateNameValue))}if(!this.templateId||this.templates.length<1){this.columnsVisible=[],this.columnsVisible2=[];for(let r=0;r<this.columns.length;r++)this.columnsVisible.push({name:this.columns[r].name,title:this.columns[r].title,dataName:this.columns[r].dataName,width:this.columns[r].width,eventGroup:this.columns[r].eventGroup,eventName:this.columns[r].eventName,searchVisible:!1,searchable:this.columns[r].searchable,searchActive:!1,drilldown:this.columns[r].drilldown,sortFn:(h,e)=>(h[this.columns[r].dataName]?h[this.columns[r].dataName].toString():"").localeCompare(e[this.columns[r].dataName]?e[this.columns[r].dataName].toString():"")});this.setColSpans()}},t=>{console.log(t)}))}onResize(){this.screenWidth=window.innerWidth+"px",this.screenHeight=window.innerHeight-300+"px",this.drilldownHeight=window.innerHeight-300-100+"px"}resetForm(){this.filterForm.reset({dateRange:""})}onSubmit(){if(this.filterForm.invalid||this.isLoading)return;let i=new Date(new Date(this.filterForm.get("dateRangePicker").value[0].toString()).setHours(0,0,0,0)).toISOString(),o=new Date(new Date(this.filterForm.get("dateRangePicker").value[1].toString()).setHours(23,59,59,999)).toISOString();this.startDate=i,this.isLoading=!0,this.fetchTable$=this._fetchITNLife.fetch({startDate:i,endDate:o},{fetchPolicy:"network-only"}).pipe(Ge(n=>{this.isLoading=!1,this.tableData=n.data.fetchITNLifecycle.map(a=>{let l=Re({},a);return l.PriorityDisplay=l.Priority?"Y":"N",l.ProductTier=l.ProductTier?l.ProductTier.trim().toUpperCase():"",l.OrderNOSI=(a.OrderNumber?a.OrderNumber.trim().toUpperCase()+"-":"")+(a.NOSINumber?a.NOSINumber.trim().toUpperCase():""),l.InventoryTrackingNumber=l.InventoryTrackingNumber?l.InventoryTrackingNumber.trim().toUpperCase():"",l.after_InventoryTrackingNumber=l.after_InventoryTrackingNumber?l.after_InventoryTrackingNumber.trim().toUpperCase():"",l.CustomerNumber=l.CustomerNumber?l.CustomerNumber.trim().toUpperCase():"",l.CustomerTier=l.CustomerTier?l.CustomerTier.trim().toUpperCase():"",l.TrackingNumber=l.TrackingNumber?l.TrackingNumber.trim().toUpperCase():"",l.ParentITN=l.ParentITN?l.ParentITN.trim().toUpperCase():"",l.PartNumber=l.PartNumber?l.PartNumber.trim().toUpperCase():"",l.ProductCode=l.ProductCode?l.ProductCode.trim().toUpperCase():"",l.lineAllocationUser=l.lineAllocationUser?l.lineAllocationUser.trim():"",l.pickStartUser=l.pickStartUser?l.pickStartUser.trim():"",l.pickDoneUser=l.pickDoneUser?l.pickDoneUser.trim():"",l.dropoffUser=l.dropoffUser?l.dropoffUser.trim():"",l.qcStartUser=l.qcStartUser?l.qcStartUser.trim():"",l.qcDoneUser=l.qcDoneUser?l.qcDoneUser.trim():"",l.agStartUser=l.agStartUser?l.agStartUser.trim():"",l.agDoneUser=l.agDoneUser?l.agDoneUser.trim():"",l.packLineUser=l.packLineUser?l.packLineUser.trim():"",a.lineAllocation&&(l.lineAllocation=this.timeFormating(a.lineAllocation)),a.agStart&&(l.agStart=this.timeFormating(a.agStart),l.agStartNum=Number(a.agStart)),a.agDone&&(l.agDone=this.timeFormating(a.agDone),l.agDoneNum=Number(a.agDone)),a.PartNumber&&a.ProductCode&&(l.PartCode=a.PartNumber.trim().toUpperCase()+"-"+a.ProductCode.trim().toUpperCase()),a.agDone&&a.agStart&&(l.agElapsed=this.elapsedFormating(Number(a.agDone)-Number(a.agStart))),a.pickStart&&(l.pickStart=this.timeFormating(a.pickStart),l.pickStartNum=Number(a.pickStart)),a.pickDone&&(l.pickDone=this.timeFormating(a.pickDone),l.pickDoneNum=Number(a.pickDone)),a.pickStart&&a.pickDone&&(l.pickElapsed=this.elapsedFormating(Number(a.pickDone)-Number(a.pickStart)),l.pickElapsedNum=Number(a.pickDone)-Number(a.pickStart)),a.qcStart&&(l.qcStart=this.timeFormating(a.qcStart),l.qcStartNum=Number(a.qcStart)),a.qcDone&&(l.qcDone=this.timeFormating(a.qcDone),l.qcDoneNum=Number(a.qcDone)),a.qcDone&&a.qcStart&&(l.qcElapsed=this.elapsedFormating(Number(a.qcDone)-Number(a.qcStart))),a.pullingStart&&(l.pullingStart=this.timeFormating(a.pullingStart),l.pullingStartNum=Number(a.pullingStart)),a.pullingDone&&(l.pullingDone=this.timeFormating(a.pullingDone),l.pullingDoneNum=Number(a.pullingDone)),a.pullingStart&&a.pullingDone&&(l.pullingElapsed=this.elapsedFormating(Number(a.pullingDone)-Number(a.pullingStart)),l.pullingElapsedNum=Number(a.pullingDone)-Number(a.pullingStart)),a.pickStatus15&&(l.pickStatus15=this.timeFormating(a.pickStatus15)),a.qcStatus40&&(l.qcStatus40=this.timeFormating(a.qcStatus40)),a.qcStatus41&&(l.qcStatus41=this.timeFormating(a.qcStatus41)),a.dropoffLine&&(l.dropoffLine=this.timeFormating(a.dropoffLine)),a.dropoffStart&&(l.dropoffStart=this.timeFormating(a.dropoffStart),l.dropoffStartNum=Number(a.dropoffStart)),a.dropoffDone&&(l.dropoffDone=this.timeFormating(a.dropoffDone),l.dropoffDoneNum=Number(a.dropoffDone)),a.dropoffStart&&a.dropoffDone&&(l.dropoffElapsed=this.elapsedFormating(Number(a.dropoffDone)-Number(a.dropoffStart)),l.dropoffElapsedNum=Number(a.dropoffDone)-Number(a.dropoffStart)),a.packStart&&(l.packStart=this.timeFormating(a.packStart),l.packingStartNum=Number(a.packStart)),a.packLine&&(l.packLine=this.timeFormating(a.packLine)),a.packReject&&(l.packReject=this.timeFormating(a.packReject)),a.packDone&&(l.packDone=this.timeFormating(a.packDone),l.packingDoneNum=Number(a.packDone)),a.packStart&&a.packDone&&(l.packingElapsed=this.elapsedFormating(Number(a.packDone)-Number(a.packStart)),l.packingElapsedNum=Number(a.packDone)-Number(a.packStart)),l.expand=!1,l.OrderExpand=!1,l.LineExpand=!1,l.ITNExpand=!1,l}),this.tableDataDisplay=this.tableData,this.pageNumber=1}),Qe(n=>(this.isLoading=!1,n)))}setFilter(i,o){i.searchVisible=!1,i.searchActive=!0;let n=this.filters.map(a=>a.filterColumn).indexOf(i.dataName);n>-1?this.filters[n]={filterColumn:i.dataName,filterValue:o}:this.filters.push({filterColumn:i.dataName,filterValue:o}),this.filterResults(),this.pageNumber=1}clearFilter(i){i.searchVisible=!1,i.searchActive=!1;let o=this.filters.map(n=>n.filterColumn).indexOf(i.dataName);o>-1&&this.filters.splice(o,1),this.filterResults(),this.pageNumber=1}filterResults(){this.tableDataDisplay=this.tableData;for(let i=0;i<this.filters.length;i++)this.tableDataDisplay=this.tableDataDisplay.filter(o=>o[this.filters[i].filterColumn].toString().toUpperCase().indexOf(this.filters[i].filterValue.toUpperCase())!==-1)}onDrilldown(i,o){this.drilldownTitle,this.drilldownTableData=[],this.drilldownTableData2=[],o=="Order"?(this.drilldownTitle="Order "+i.OrderNOSI,this.loadDrillDown(i.OrderNumber,i.NOSINumber)):o=="Line"?(this.drilldownTitle="Order "+i.OrderNOSI+", Line "+i.OrderLineNumber,this.loadDrillDown(i.OrderNumber,i.NOSINumber,Number(i.OrderLineNumber))):o=="ITN"&&(this.drilldownTitle="Order "+i.OrderNOSI+", Line "+i.OrderLineNumber+", ITN "+i.InventoryTrackingNumber,this.loadDrillDown(i.OrderNumber,i.NOSINumber,Number(i.OrderLineNumber),i.InventoryTrackingNumber)),this.drilldownVisible=!0}onModalClose(){this.templateId&&this.onTemplateChange(this.templateId.toString()+","+this.templateNameValue)}getClass(i,o,n){let a="none";if(n&&this.limits){let l=this.limits.find(t=>t.eventName.toLocaleLowerCase()==n.toLocaleLowerCase());if(l)if(i&&(!o||o==""))l.mediumLevelLimit>0&&Math.round(Date.now())-Number(i)>Number(l.mediumLevelLimit)&&(a="high");else{let t=Number(o)-Number(i);l.mediumLevelLimit>0&&t>l.mediumLevelLimit?a="medium":l.lowLevelLimit>0&&t>l.lowLevelLimit&&(a="low")}}return a}timeFormating(i){let o=new Date(Number(i)),n=""+(o.getMonth()+1),a=""+o.getDate(),l=""+o.getFullYear(),t=""+o.getHours(),r=""+o.getMinutes(),h=""+o.getSeconds();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),h.length<2&&(h="0"+h),l+"-"+n+"-"+a+" "+t+":"+r+":"+h}elapsedFormating(i){let o=Math.floor(i/1e3/60/60),n=Math.floor((i-o*60*60*1e3)/1e3/60),a=Math.floor((i-n*60*1e3)/1e3);return o.toString().substring(0,2).padStart(2,"0")+":"+n.toString().substring(0,2).padStart(2,"0")+":"+a.toString().substring(0,2).padStart(2,"0")}exportexcel(){this.isLoading=!0,setTimeout(()=>{this.paging=!1},1e3),setTimeout(()=>{let i=document.getElementById("excel-table"),o=H.table_to_sheet(i),n=H.book_new();H.book_append_sheet(n,o,"Sheet1");let a=new Date,l=""+a.getHours(),t=""+a.getMinutes(),r=""+a.getSeconds(),h=l+":"+t+":"+r;Je(n,`${this.startDate.substring(0,10)}-${h}.xlsx`)},2e3),setTimeout(()=>{this.paging=!0,this.isLoading=!1},2e3)}scrollToTop(){let i=document.getElementById("excel-table");i.children[0].children[0].children[0].children[0].children[1].scrollTop=0}exportDrilldown(){this.isLoading=!0,setTimeout(()=>{let i=document.getElementById("excel-drilldown-table"),o=H.table_to_sheet(i),n=H.book_new();H.book_append_sheet(n,o,"Sheet1");let a=new Date,l=""+a.getHours(),t=""+a.getMinutes(),r=""+a.getSeconds(),h=l+":"+t+":"+r;Je(n,`${this.startDate.substring(0,10)}-${h}.xlsx`)},2e3),setTimeout(()=>{this.isLoading=!1},2e3)}setColSpans(){this.preColSpan=0,this.pickColSpan=0,this.qcColSpan=0,this.agColSpan=0,this.pullingColSpan=0,this.dropoffColSpan=0,this.postColSpan=0;for(let i=0;i<this.columns.length;i++)this.columnsVisible.includes(this.columns[i].name)&&(this.columns[i].colSpan=="pre"?this.preColSpan++:this.columns[i].colSpan=="pick"?this.pickColSpan++:this.columns[i].colSpan=="qc"?this.qcColSpan++:this.columns[i].colSpan=="ag"?this.agColSpan++:this.columns[i].colSpan=="pulling"?this.pullingColSpan++:this.columns[i].colSpan=="dropoff"?this.dropoffColSpan++:this.columns[i].colSpan=="post"&&this.postColSpan++)}onTemplateChange(i){this.limits=[];let o=i.split(",");this.templateId=Number(o[0]),this.templateNameValue=o[1],this.templateIdName=this.templateId.toString()+","+this.templateNameValue,this.paginationValues=[100,50,1e3,500],this.paginationValues=this.paginationValues.sort((n,a)=>n-a),this.selTempSub.add(this._findITNTemplate.fetch({_id:this.templateId},{fetchPolicy:"network-only"}).subscribe(n=>{if(n.data.findITNTemplate.length>0){let l={name:n.data.findITNTemplate[0].TemplateName,id:n.data.findITNTemplate[0]._id,selectedColumns:n.data.findITNTemplate[0].SelectedColumns};if(this.defaultPaginationValue=n.data.findITNTemplate[0].DefaultPagination?n.data.findITNTemplate[0].DefaultPagination.toString():"50",this.defaultPaginationValue&&(this.pageSize=Number(this.defaultPaginationValue)),this.paginationValues.includes(Number(this.defaultPaginationValue))||(this.paginationValues.push(Number(this.defaultPaginationValue)),this.paginationValues=this.paginationValues.sort((t,r)=>t-r)),n.data.findITNTemplate[0].ITNLEVELLIMITs.length>0){let t=[];for(let r=0;r<n.data.findITNTemplate[0].ITNLEVELLIMITs.length;r++)try{let h={id:n.data.findITNTemplate[0].ITNLEVELLIMITs[r]._id,templateId:n.data.findITNTemplate[0].ITNLEVELLIMITs[r].TemplateID,eventName:n.data.findITNTemplate[0].ITNLEVELLIMITs[r].EventName,eventId:n.data.findITNTemplate[0].ITNLEVELLIMITs[r].EventID,lowLevelLimit:n.data.findITNTemplate[0].ITNLEVELLIMITs[r].LowLevelLimit,mediumLevelLimit:n.data.findITNTemplate[0].ITNLEVELLIMITs[r].MediumLevelLimit};t.push(h),this.limits.push(h),l.limits=t}catch(h){alert(h)}}this.selectedTemplate=l}let a=this.selectedTemplate.selectedColumns.split(",");this.columnsVisible=[];for(let l=0;l<a.length;l++){let t=this.columns.find(h=>h.name==a[l]);t&&this.columnsVisible.push({name:t.name,title:t.title,dataName:t.dataName,width:t.width,eventGroup:t.eventGroup,eventName:t.eventName,order:t.position,searchVisible:!1,searchable:t.searchable,searchActive:!1,drilldown:t.drilldown,sortFn:(h,e)=>(h[t.dataName]?h[t.dataName].toString():"").localeCompare(e[t.dataName]?e[t.dataName].toString():"")});let r="test"}this.columnsVisible2=this.columnsVisible.sort((l,t)=>Number(l.order)>Number(t.order)?1:-1),this.columnsVisible=this.columnsVisible2}))}loadDrillDown(i,o,n,a){this.isLoading=!0,this.drilldownTableData2=[],this.drillDownRowsSubscription.add(this._fetchDrillDownRows.fetch({orderNumber:i,nosiNumber:o,orderLineNumber:n,inventoryTrackingNumber:a},{fetchPolicy:"network-only"}).subscribe(l=>{l.data.fetchITNLifecycleDrillDownRows.forEach(t=>{let r=[],h={OrderNumber:t.OrderNumber?t.OrderNumber.trim():"",NOSINumber:t.NOSINumber?t.NOSINumber.trim():"",InventoryTrackingNumber:t.after_InventoryTrackingNumber?t.after_InventoryTrackingNumber.trim():"",DistributionCenter:t.DistributionCenter?t.DistributionCenter.trim():"",Name:null,Event:null,Module:null,DateTime:null,Ticks:null,PartNumber:t.PartNumber?t.PartNumber.trim():"",ProductCode:t.ProductCode?t.ProductCode.trim():"",PrcNumber:(t.ProductCode?t.ProductCode.trim():"")+(t.ProductCode?"-":"")+(t.PartNumber?t.PartNumber.trim():""),OrderLineNumber:t.OrderLineNumber?t.OrderLineNumber:null,CustomerNumber:t.CustomerNumber?t.CustomerNumber.trim():"",CustomerTier:t.CustomerTier?t.CustomerTier.trim():"",ProductTier:t.ProductTier?t.ProductTier.trim():"",Zone:t.Zone?t.Zone:null,WMSPriority:t.WMSPriority?t.WMSPriority:null,Priority:t.Priority?"Y":"N",TrackingNumber:t.TrackingNumber?t.TrackingNumber.trim():"",ParentITN:t.InventoryTrackingNumber?t.InventoryTrackingNumber.trim():"",Quantity:t.Quantity?t.Quantity:null,ShipmentMethod:t.shipmentMethod?t.shipmentMethod:null,ShipmentMethodDescription:t.shipmentMethodDescription?t.shipmentMethodDescription:null};if(t.splitDone){let e=JSON.parse(JSON.stringify(h));e.Name=t.splitDoneUser?t.splitDoneUser.trim():"",e.Event="ITN Split",e.Module="Picking",e.DateTime=this.timeFormating(t.splitDone),e.Ticks=t.splitDone,r.push(e)}if(t.lineAllocation){let e=JSON.parse(JSON.stringify(h));e.Name=t.lineAllocationUser?t.lineAllocationUser.trim():"",e.Event="Line Allocation",e.Module="Release",e.DateTime=this.timeFormating(t.lineAllocation),e.Ticks=t.lineAllocation,r.push(e)}if(t.releaseOrder){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Order",e.Module="Release",e.DateTime=this.timeFormating(t.releaseOrder),e.Ticks=t.releaseOrder,r.push(e)}if(t.releaseLine){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Line",e.Module="Release",e.DateTime=this.timeFormating(t.releaseLine),e.Ticks=t.releaseLine,r.push(e)}if(t.lineCancel){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Line Canceled",e.Module="Release",e.DateTime=this.timeFormating(t.lineCancel),e.Ticks=t.lineCancel,r.push(e)}if(t.orderCancel){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Order Canceled",e.Module="Release",e.DateTime=this.timeFormating(t.orderCancel),e.Ticks=t.orderCancel,r.push(e)}if(t.pickStart){let e=JSON.parse(JSON.stringify(h));e.Name=t.pickStart?t.pickStartUser.trim():"",e.Event="Pick Start",e.Module="Picking",e.DateTime=this.timeFormating(t.pickStart),e.Ticks=t.pickStart,r.push(e)}if(t.pickLocationScan){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Location Scan",e.Module="Picking",e.DateTime=this.timeFormating(t.pickLocationScan),e.Ticks=t.pickLocationScan,r.push(e)}if(t.pickITNScan){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="ITN Scan",e.Module="Picking",e.DateTime=this.timeFormating(t.pickITNScan),e.Ticks=t.pickITNScan,r.push(e)}if(t.pickQuantityEntered){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Quantity Entered",e.Module="Picking",e.DateTime=this.timeFormating(t.pickQuantityEntered),e.Ticks=t.pickQuantityEntered,r.push(e)}if(t.pickITNPrint){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="ITN Print",e.Module="Picking",e.DateTime=this.timeFormating(t.pickITNPrint),e.Ticks=t.pickITNPrint,r.push(e)}if(t.pickITNNF){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="ITN NF",e.Module="Picking",e.DateTime=this.timeFormating(t.pickITNNF),e.Ticks=t.pickITNNF,r.push(e)}if(t.pickCartAssigned){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Cart Assigned",e.Module="Picking",e.DateTime=this.timeFormating(t.pickCartAssigned),e.Ticks=t.pickCartAssigned,r.push(e)}if(t.pickUserExit){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="User Exit",e.Module="Picking",e.DateTime=this.timeFormating(t.pickUserExit),e.Ticks=t.pickUserExit,r.push(e)}if(t.pickLabelCount){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Label Count",e.Module="Picking",e.DateTime=this.timeFormating(t.pickLabelCount),e.Ticks=t.pickLabelCount,r.push(e)}if(t.pickLabelQuantity){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Label Quantity",e.Module="Picking",e.DateTime=this.timeFormating(t.pickLabelQuantity),e.Ticks=t.pickLabelQuantity,r.push(e)}if(t.pickOverPick){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Over Pick",e.Module="Picking",e.DateTime=this.timeFormating(t.pickOverPick),e.Ticks=t.pickOverPick,r.push(e)}if(t.pickToteAssignment){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Tote Assignment",e.Module="Picking",e.DateTime=this.timeFormating(t.pickToteAssignment),e.Ticks=t.pickToteAssignment,r.push(e)}if(t.pickShortPick){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Short Pick",e.Module="Picking",e.DateTime=this.timeFormating(t.pickShortPick),e.Ticks=t.pickShortPick,r.push(e)}if(t.pickDone){let e=JSON.parse(JSON.stringify(h));e.Name=t.pickDoneUser?t.pickDoneUser.trim():"",e.Event="Pick Done",e.Module="Picking",e.DateTime=this.timeFormating(t.pickDone),e.Ticks=t.pickDone,r.push(e)}if(t.pickStatus15){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Status 15",e.Module="Picking",e.DateTime=this.timeFormating(t.pickStatus15),e.Ticks=t.pickStatus15,r.push(e)}if(t.qcStart){let e=JSON.parse(JSON.stringify(h));e.Name=t.qcStartUser?t.qcStartUser.trim():"",e.Event="Start",e.Module="QC",e.DateTime=this.timeFormating(t.qcStart),e.Ticks=t.qcStart,r.push(e)}if(t.qcDone){let e=JSON.parse(JSON.stringify(h));e.Name=t.qcDoneUser?t.qcDoneUser.trim():"",e.Event="Done",e.Module="QC",e.DateTime=this.timeFormating(t.qcDone),e.Ticks=t.qcDone,r.push(e)}if(t.qcStatus40){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Status 40",e.Module="QC",e.DateTime=this.timeFormating(t.qcStatus40),e.Ticks=t.qcStatus40,r.push(e)}if(t.qcStatus41){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Status 41",e.Module="QC",e.DateTime=this.timeFormating(t.qcStatus41),e.Ticks=t.qcStatus41,r.push(e)}if(t.agStart){let e=JSON.parse(JSON.stringify(h));e.Name=t.agStartUser?t.agStartUser.trim():"",e.Event="Start",e.Module="Ag In",e.DateTime=this.timeFormating(t.agStart),e.Ticks=t.agStart,r.push(e)}if(t.agOutStart){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Start",e.Module="Ag Out",e.DateTime=this.timeFormating(t.agOutStart),e.Ticks=t.agOutStart,r.push(e)}if(t.qcHold){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Hold",e.Module="QC",e.DateTime=this.timeFormating(t.qcHold),e.Ticks=t.qcHold,r.push(e)}if(t.qcOrderComplete){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Order Complete",e.Module="QC",e.DateTime=this.timeFormating(t.qcOrderComplete),e.Ticks=t.qcOrderComplete,r.push(e)}if(t.agDone){let e=JSON.parse(JSON.stringify(h));e.Name=t.agDoneUser?t.agDoneUser.trim():"",e.Event="Done",e.Module="Ag Out",e.DateTime=this.timeFormating(t.agDone),e.Ticks=t.agDone,r.push(e)}if(t.agRelocate){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Relocate",e.Module="Ag In",e.DateTime=this.timeFormating(t.agRelocate),e.Ticks=t.agRelocate,r.push(e)}if(t.agOrderComplete){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Order Complete",e.Module="Ag In",e.DateTime=this.timeFormating(t.agOrderComplete),e.Ticks=t.agOrderComplete,r.push(e)}if(t.agInDone){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Done",e.Module="Ag In",e.DateTime=this.timeFormating(t.agInDone),e.Ticks=t.agInDone,r.push(e)}if(t.pullingStart){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Start",e.Module="Pulling",e.DateTime=this.timeFormating(t.pullingStart),e.Ticks=t.pullingStart,r.push(e)}if(t.pullingCartSelected){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Cart Selected",e.Module="Pulling",e.DateTime=this.timeFormating(t.pullingCartSelected),e.Ticks=t.pullingCartSelected,r.push(e)}if(t.pullingLocationSelected){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Location Selected",e.Module="Pulling",e.DateTime=this.timeFormating(t.pullingLocationSelected),e.Ticks=t.pullingLocationSelected,r.push(e)}if(t.pullingNotFound){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Not Found",e.Module="Pulling",e.DateTime=this.timeFormating(t.pullingNotFound),e.Ticks=t.pullingNotFound,r.push(e)}if(t.pullingDone){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Done",e.Module="Pulling",e.DateTime=this.timeFormating(t.pullingDone),e.Ticks=t.pullingDone,r.push(e)}if(t.dropoffStart){let e=JSON.parse(JSON.stringify(h));e.Name=t.dropoffUser?t.dropoffUser.trim():"",e.Event="Start",e.Module="Drop Off",e.DateTime=this.timeFormating(t.dropoffStart),e.Ticks=t.dropoffStart,r.push(e)}if(t.dropoffLine){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Line",e.Module="Drop Off",e.DateTime=this.timeFormating(t.dropoffLine),e.Ticks=t.dropoffLine,r.push(e)}if(t.dropoffDone){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Done",e.Module="Drop Off",e.DateTime=this.timeFormating(t.dropoffDone),e.Ticks=t.dropoffDone,r.push(e)}if(t.dropoffCartSelected){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Cart Selected",e.Module="Drop Off",e.DateTime=this.timeFormating(t.dropoffCartSelected),e.Ticks=t.dropoffCartSelected,r.push(e)}if(t.dropoffITNSkipped){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="ITN Skipped",e.Module="Drop Off",e.DateTime=this.timeFormating(t.dropoffITNSkipped),e.Ticks=t.dropoffITNSkipped,r.push(e)}if(t.dropoffLocationSelected){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Location Selected",e.Module="Drop Off",e.DateTime=this.timeFormating(t.dropoffLocationSelected),e.Ticks=t.dropoffLocationSelected,r.push(e)}if(t.packStart){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Start",e.Module="Packing",e.DateTime=this.timeFormating(t.packStart),e.Ticks=t.packStart,r.push(e)}if(t.packLine){let e=JSON.parse(JSON.stringify(h));e.Name=t.packLineUser?t.packLineUser.trim():"",e.Event="Line",e.Module="Packing",e.DateTime=this.timeFormating(t.packLine),e.Ticks=t.packLine,r.push(e)}if(t.packReject){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Reject",e.Module="Packing",e.DateTime=this.timeFormating(t.packReject),e.Ticks=t.packReject,r.push(e)}if(t.packDone){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Done",e.Module="Packing",e.DateTime=this.timeFormating(t.packDone),e.Ticks=t.packDone,r.push(e)}if(t.packNewPackage){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="New Package",e.Module="Packing",e.DateTime=this.timeFormating(t.packNewPackage),e.Ticks=t.packNewPackage,r.push(e)}if(t.packSupervisorCheck){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Supervisor Check",e.Module="Packing",e.DateTime=this.timeFormating(t.packSupervisorCheck),e.Ticks=t.packSupervisorCheck,r.push(e)}if(t.shippingManifest){let e=JSON.parse(JSON.stringify(h));e.Name=null,e.Event="Shipping Manifest",e.Module="Packing",e.DateTime=this.timeFormating(t.shippingManifest),e.Ticks=t.shippingManifest,r.push(e)}r.sort((e,w)=>Number(e.Ticks)<Number(w.Ticks)?-1:Number(e.Ticks)==Number(w.Ticks)?0:1),r.forEach(e=>{this.drilldownTableData2.push(e)})}),this.isLoading=!1,this.drilldownTableData=this.drilldownTableData2}))}ngOnDestroy(){try{this.subscription.unsubscribe(),this.templateList.unsubscribe(),this.selTempSub.unsubscribe(),this.columnsSubscription.unsubscribe(),this.drillDownSubscription.unsubscribe(),this.drillDownRowsSubscription.unsubscribe()}catch(i){console.log("Error1: "+i)}}};p.\u0275fac=function(o){return new(o||p)(b(lt),b(Se),b(Et),b(Vt),b(xt),b(wt),b(Ve),b(Pt),b(tt),b(he))},p.\u0275cmp=M({type:p,selectors:[["itn-lifecycle"]],hostBindings:function(o,n){o&1&&f("resize",function(l){return n.onResize(l)},!1,Be)},standalone:!0,features:[O],decls:37,vars:35,consts:[[2,"position","absolute","width","100%","left","0px"],[1,"px-4","py-4",2,"max-width","200%"],["nz-form","",3,"formGroup"],["nz-row","","nzGutter","8","nzJustify","space-between"],["nz-col","","nzSpan","8"],["nzRequired",""],["formControlName","dateRangePicker","nzId","dateRangePicker"],["nzPlaceHolder","Select Template",1,"templateSelect",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"templates","columns","selectedColumns","templateNameValue","activeTemplateId","activeTemplateName","modalClosed"],["nz-col","","nzSpan","10"],["nz-button","",1,"mr-4",3,"nzType","disabled","click"],["nz-button","",1,"mr-4",3,"click"],["nz-button","",3,"click"],[4,"ngIf"],["indicatorTemplate",""],["class","progress",4,"ngIf"],["class","timeLock",4,"ngIf"],["id","excel-table","nzShowSizeChanger","","nzBordered","",3,"nzPageSize","nzPageIndex","nzFrontPagination","nzData","nzPageSizeOptions","nzScroll","nzPageIndexChange"],["table",""],["nzCustomFilter","",3,"nzWidth","nzSortOrder","nzSortDirections","nzSortFn",4,"ngFor","ngForOf"],["ngFor","",3,"ngForOf"],[3,"nzVisible","nzTitle","nzContent","nzFooter","nzWidth","nzBodyStyle","nzVisibleChange","nzOnCancel"],["drilldownBody",""],["drilldownFooter",""],[3,"nzValue","nzLabel"],["nz-icon","","nzType","loading"],[1,"progress"],["nzSimple","",3,"nzSize"],[1,"timeLock"],["nzCustomFilter","",3,"nzWidth","nzSortOrder","nzSortDirections","nzSortFn"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange",4,"ngIf"],["menu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"grid","grid-cols-2","gap-2","px-2","py-2"],["type","text","nz-input","","oninput","this.value = this.value",1,"col-span-2",3,"placeholder"],["searchInput",""],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","search"],["style","cursor: pointer",3,"ngClass","title","click",4,"ngIf"],[3,"ngClass",4,"ngIf"],[2,"cursor","pointer",3,"ngClass","title","click"],[3,"ngClass"],["id","excel-drilldown-table",3,"nzData","nzShowPagination","nzPageSize","nzScroll"],["drilldownTable",""],[3,"nzWidth",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"nzWidth"],[2,"width","100%","text-align","center"]],template:function(o,n){if(o&1&&(m(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"nz-form-item",4)(5,"nz-form-label",5),N(6," Date "),d(),m(7,"nz-form-control"),v(8,"nz-range-picker",6),m(9,"nz-select",7),f("ngModelChange",function(l){return n.templateIdName=l})("ngModelChange",function(l){return n.onTemplateChange(l)}),T(10,pi,1,3,"nz-option",8),d(),m(11,"template-settings",9),f("modalClosed",function(){return n.onModalClose()}),d()()(),m(12,"div",10)(13,"button",11),f("click",function(){return n.onSubmit()}),N(14," Search "),d(),m(15,"button",12),f("click",function(){return n.resetForm()}),N(16,"Clear"),d(),m(17,"button",13),f("click",function(){return n.exportexcel()}),N(18,"Export to Excel"),d()()()(),T(19,ui,1,0,"div",14),We(20,"async"),T(21,hi,1,0,"ng-template",null,15,B)(23,gi,3,1,"div",16)(24,fi,3,0,"div",17),m(25,"nz-table",18,19),f("nzPageIndexChange",function(l){return n.pageNumber=l})("nzPageIndexChange",function(){return n.scrollToTop()}),m(27,"thead")(28,"tr"),T(29,vi,13,8,"th",20),d()(),m(30,"tbody"),T(31,bi,2,1,"ng-template",21),d()(),m(32,"nz-modal",22),f("nzVisibleChange",function(l){return n.drilldownVisible=l})("nzOnCancel",function(){return n.drilldownVisible=!1}),T(33,Di,7,8,"ng-template",null,23,B)(35,Mi,3,0,"ng-template",null,24,B),d()()()),o&2){let a=y(26),l=y(34),t=y(36);u(2),g("formGroup",n.filterForm),u(7),g("ngModel",n.templateIdName)("ngModelOptions",V(31,yi)),u(1),g("ngForOf",n.templates),u(1),g("templates",n.templates)("columns",n.columns)("selectedColumns",V(32,Oi))("templateNameValue",n.templateNameValue)("activeTemplateId",n.templateId)("activeTemplateName",n.templateNameValue),u(2),g("nzType","primary")("disabled",n.isLoading),u(6),g("ngIf",Xe(20,29,n.fetchTable$)),u(4),g("ngIf",n.isLoading),u(1),g("ngIf",n.timeLock),u(1),g("nzPageSize",n.pageSize)("nzPageIndex",n.pageNumber)("nzFrontPagination",n.paging)("nzData",n.tableDataDisplay)("nzPageSizeOptions",n.paginationValues)("nzScroll",Fe(33,Ei,n.screenHeight)),u(4),g("ngForOf",n.columnsVisible),u(2),g("ngForOf",a.data),u(1),g("nzVisible",n.drilldownVisible)("nzTitle",n.drilldownTitle)("nzContent",l)("nzFooter",t)("nzWidth","90%")("nzBodyStyle",n.drilldownBodyStyle)}},dependencies:[x,Ne,j,_e,R,Ce,A,J,dt,mt,pt,ct,ie,ve,Te,q,Me,zt,Lt,ae,ke,ze,P,we,U,ee,Z,Y,K,W,F,X,ge,it,De,Ct,vt,Nt,Tt,It,St,bt,_t,fe,nt,G,ne,Ze,Q,le,Ke],styles:[".high[_ngcontent-%COMP%]{background-color:red!important}.medium[_ngcontent-%COMP%]{background-color:orange!important}.low[_ngcontent-%COMP%]{background-color:#ff0!important}.none[_ngcontent-%COMP%]{background-color:#fff}.templateSelect[_ngcontent-%COMP%]{width:150px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%}.progress[_ngcontent-%COMP%]{text-align:center;background:rgba(0,0,0,.3);position:absolute;width:100%;height:100%;top:0;left:0;z-index:11000;display:flex}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto}.timeLock[_ngcontent-%COMP%]{text-align:center;background:rgba(0,0,0,.3);position:absolute;width:100%;height:100%;top:0;left:0;z-index:11000;display:block}.timeLock[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:2em;background-color:#fff;padding:10px;margin:auto;position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.drilldown[_ngcontent-%COMP%]{text-decoration:underline!important;color:#66b5f6!important}.drilldown[_ngcontent-%COMP%]:hover{border-top:solid 1px #66b5f6!important;border-left:solid 1px #66b5f6!important;border-right:solid 1px #66b5f6!important;border-bottom:solid 1px #66b5f6!important}[notvalid=true][_ngcontent-%COMP%]{border-top:solid 1px red!important;border-left:solid 1px red!important;border-right:solid 1px red!important;border-bottom:solid 1px red!important}"]});let s=p;return s})();var Vi=[{path:"",component:Pe}],Wt=(()=>{let p=class p{};p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=de({type:p}),p.\u0275inj=me({imports:[Ue.forChild(Vi),Ue]});let s=p;return s})();function xi(s,p){s&1&&(ce(0),v(1,"level-slider"),pe())}var Xt=(()=>{let p=class p{constructor(){this.isVisible=!1}showLevelSelector(){this.isVisible=!0}handleCancel(){this.isVisible=!1}handleOk(){this.isVisible=!1}handleClose(){this.isVisible=!1}};p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=M({type:p,selectors:[["level-selector"]],standalone:!0,features:[O],decls:4,vars:2,consts:[["nz-button","",3,"click"],["nz-icon","","nzType","sliders","nzTheme","outline","title","Set Highlight Limits"],["nzTitle","Highlight Limits","nzClosable","false",3,"nzVisible","nzWidth","nzVisibleChange","nzOnCancel","nzOnOk","nzAfterClose"],[4,"nzModalContent"]],template:function(o,n){o&1&&(m(0,"button",0),f("click",function(){return n.showLevelSelector()}),v(1,"i",1),d(),m(2,"nz-modal",2),f("nzVisibleChange",function(l){return n.isVisible=l})("nzOnCancel",function(){return n.handleCancel()})("nzOnOk",function(){return n.handleOk()})("nzAfterClose",function(){return n.handleClose()}),T(3,xi,2,0,"ng-container",3),d()),o&2&&(u(2),g("nzVisible",n.isVisible)("nzWidth",520))},dependencies:[U,ee,Z,Y,K,F,X,Q,le,Ie,re],encapsulation:2});let s=p;return s})();var Rl=(()=>{let p=class p{};p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=de({type:p}),p.\u0275inj=me({imports:[et,x,ie,G,De,fe,U,Ce,kt,at,Me,ae,be,Q,ye,Oe,Ee,Le,ge,Wt,F,Pe,oe,Xt,re,xe,we]});let s=p;return s})();export{Rl as ITNLifeCycleModule};
