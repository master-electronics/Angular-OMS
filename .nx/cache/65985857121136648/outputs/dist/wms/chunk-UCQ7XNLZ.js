import{a as V}from"./chunk-SUC3P3VA.js";import"./chunk-CNRANGED.js";import{a as R}from"./chunk-GKR6SDXW.js";import{a as E}from"./chunk-XHQXBUEX.js";import"./chunk-RMIKNTFD.js";import"./chunk-D3FIXZL7.js";import"./chunk-ADHMVREX.js";import"./chunk-VJKYRYVM.js";import"./chunk-I3G2JKLN.js";import"./chunk-LCEARWCQ.js";import"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import"./chunk-POEXBOQJ.js";import{E as x,I as B,e as F,i as q,t as w}from"./chunk-L3THJMBJ.js";import"./chunk-PLQ7TNCQ.js";import"./chunk-C55YZZU5.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{i as D,k as N}from"./chunk-PJEV5NXI.js";import{A as T,q as P,w as Q}from"./chunk-GWV5DZOT.js";import{$b as g,C as m,Da as y,Fb as f,Gb as r,Gc as v,Ia as c,Ja as l,Lc as S,Mc as b,Sb as a,ac as _,bc as h,dc as k,ec as I,gc as C,nc as d,pc as p}from"./chunk-N7LPRJLK.js";function M(o,e){if(o&1){let s=C();k(0),_(1,"popup-modal",2),d("clickSubmit",function(){c(s);let t=p();return l(t.clickYes())})("clickCancel",function(){c(s);let t=p();return l(t.clickNo())}),h(),I()}if(o&2){let s=p();f(1),a("message",s.message)}}var K=(()=>{let e=class e{constructor(i,t,n,u){this._router=i,this._actRoute=t,this._fb=n,this._pick=u,this.isPopup=0,this.message="",this.inputForm=this._fb.nonNullable.group({quantity:[null,[F.required]]}),this.updateInfo={InputQuantity:null,isSuspect:!1,InventoryID:this._pick.itnInfo.InventoryID,OrderLineDetailID:this._pick.itnInfo.OrderLineDetailID}}ngOnInit(){this.data$=m({message:null})}onSubmit(){this.updateInfo.InputQuantity=Number(this.inputForm.value.quantity);let i=this._pick.itnInfo.Quantity-Number(this.inputForm.value.quantity);if(i===0){this.checkEmpty();return}if(i>0){this.message="Confirm the quantity is short.",this.isPopup=1;return}this.data$=m({error:{message:"Can not pick more items.",error:"error"}})}onBack(){this._router.navigate(["../info"],{relativeTo:this._actRoute})}clickYes(){this.isPopup===1&&this.checkEmpty(),this.isPopup===2&&this.update(),this.isPopup=0}clickNo(){this.isPopup===1&&this._router.navigate(["../info"],{relativeTo:this._actRoute}),this.isPopup===2&&(this.updateInfo.isSuspect=!0,this.update()),this.isPopup=0}update(){}checkEmpty(){if(this._pick.itnInfo.Quantity===this._pick.itnInfo.QuantityOnHand){this.message="Confirm the ITN is empty.",this.isPopup=2;return}this.update()}isShort(){}isEmpty(){}};e.\u0275fac=function(t){return new(t||e)(r(N),r(D),r(x),r(V))},e.\u0275cmp=y({type:e,selectors:[["ng-component"]],standalone:!0,features:[v],decls:3,vars:5,consts:[["controlName","quantity","title","Quantity:","inputType","number",3,"data","formGroup","formSubmit","formBack"],[4,"ngIf"],["buttonOne","Yes","buttonTwo","No",3,"message","clickSubmit","clickCancel"]],template:function(t,n){t&1&&(_(0,"single-input-form",0),d("formSubmit",function(){return n.onSubmit()})("formBack",function(){return n.onBack()}),S(1,"async"),h(),g(2,M,2,1,"ng-container",1)),t&2&&(a("data",b(1,3,n.data$))("formGroup",n.inputForm),f(2),a("ngIf",n.isPopup))},dependencies:[T,P,Q,B,q,w,E,R],encapsulation:2});let o=e;return o})();export{K as QuantityComponent};
