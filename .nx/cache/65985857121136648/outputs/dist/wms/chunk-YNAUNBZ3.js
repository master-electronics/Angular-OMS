import{a as ye,b as ve}from"./chunk-RMC6N2HF.js";import{c as Te}from"./chunk-GJX7JKAF.js";import{h as W,i as fe,k as N,l as ue,m as ge,o as _e,q as B,t as ze}from"./chunk-EXQESRXT.js";import{i as xe,j as be}from"./chunk-W3KGMJG7.js";import{a as he,c as de}from"./chunk-YUDS3XHK.js";import{k as Ce,l as x,m as Oe,n as we}from"./chunk-MIXZFVL7.js";import{p as w,r as _}from"./chunk-FFJ3QZ3H.js";import{A as me,d as se,q as le,u as ce,v as pe}from"./chunk-GWV5DZOT.js";import{$b as l,Aa as K,Da as Z,Ea as U,Fa as q,Fb as o,Gb as c,Ha as G,Ia as A,Ib as F,Ja as M,Mb as I,Oa as J,Pb as te,Qc as O,Rc as D,Sb as r,Sc as $,Tb as R,Tc as ae,Ub as P,Uc as E,Vc as H,Xb as ne,Ya as b,_b as ie,ac as p,bc as m,c as Q,cc as C,dc as f,ec as u,fc as re,gc as V,m as v,nc as j,oa as z,pc as s,sb as T,va as X,w as d,wa as Y,wc as oe,yb as ee}from"./chunk-N7LPRJLK.js";var Ae=["drawerTemplate"];function Me(t,e){if(t&1){let n=V();p(0,"div",11),j("click",function(){A(n);let a=s(2);return M(a.maskClick())}),m()}if(t&2){let n=s(2);r("ngStyle",n.nzMaskStyle)}}function Fe(t,e){if(t&1&&(f(0),C(1,"span",19),u()),t&2){let n=e.$implicit;o(1),r("nzType",n)}}function Pe(t,e){if(t&1){let n=V();p(0,"button",17),j("click",function(){A(n);let a=s(3);return M(a.closeClick())}),l(1,Fe,2,1,"ng-container",18),m()}if(t&2){let n=s(3);o(1),r("nzStringTemplateOutlet",n.nzCloseIcon)}}function Ve(t,e){if(t&1&&(f(0),C(1,"div",21),u()),t&2){let n=s(4);o(1),r("innerHTML",n.nzTitle,T)}}function je(t,e){if(t&1&&(p(0,"div",20),l(1,Ve,2,1,"ng-container",18),m()),t&2){let n=s(3);o(1),r("nzStringTemplateOutlet",n.nzTitle)}}function $e(t,e){if(t&1&&(f(0),C(1,"div",21),u()),t&2){let n=s(4);o(1),r("innerHTML",n.nzExtra,T)}}function He(t,e){if(t&1&&(p(0,"div",22),l(1,$e,2,1,"ng-container",18),m()),t&2){let n=s(3);o(1),r("nzStringTemplateOutlet",n.nzExtra)}}function We(t,e){if(t&1&&(p(0,"div",12)(1,"div",13),l(2,Pe,2,1,"button",14)(3,je,2,1,"div",15),m(),l(4,He,2,1,"div",16),m()),t&2){let n=s(2);P("ant-drawer-header-close-only",!n.nzTitle),o(2),r("ngIf",n.nzClosable),o(1),r("ngIf",n.nzTitle),o(1),r("ngIf",n.nzExtra)}}function Be(t,e){}function Le(t,e){t&1&&re(0)}function Qe(t,e){if(t&1&&(f(0),l(1,Le,1,0,"ng-container",24),u()),t&2){let n=s(3);o(1),r("ngTemplateOutlet",n.nzContent)("ngTemplateOutletContext",n.templateContext)}}function Xe(t,e){if(t&1&&(f(0),l(1,Qe,2,2,"ng-container",23),u()),t&2){let n=s(2);o(1),r("ngIf",n.isTemplateRef(n.nzContent))}}function Ye(t,e){}function Ke(t,e){if(t&1&&(f(0),l(1,Ye,0,0,"ng-template",25),u()),t&2){let n=s(3);o(1),r("ngTemplateOutlet",n.contentFromContentChild)}}function Ze(t,e){if(t&1&&l(0,Ke,2,1,"ng-container",23),t&2){let n=s(2);r("ngIf",n.contentFromContentChild&&(n.isOpen||n.inAnimation))}}function Ue(t,e){if(t&1&&(f(0),C(1,"div",21),u()),t&2){let n=s(3);o(1),r("innerHTML",n.nzFooter,T)}}function qe(t,e){if(t&1&&(p(0,"div",26),l(1,Ue,2,1,"ng-container",18),m()),t&2){let n=s(2);o(1),r("nzStringTemplateOutlet",n.nzFooter)}}function Ge(t,e){if(t&1&&(p(0,"div",1),l(1,Me,1,1,"div",2),p(2,"div")(3,"div",3)(4,"div",4),l(5,We,5,5,"div",5),p(6,"div",6),l(7,Be,0,0,"ng-template",7)(8,Xe,2,1,"ng-container",8)(9,Ze,1,1,"ng-template",null,9,H),m(),l(11,qe,2,1,"div",10),m()()()()),t&2){let n=oe(10),i=s();R("transform",i.offsetTransform)("transition",i.placementChanging?"none":null)("z-index",i.nzZIndex),P("ant-drawer-rtl",i.dir==="rtl")("ant-drawer-open",i.isOpen)("no-mask",!i.nzMask)("ant-drawer-top",i.nzPlacement==="top")("ant-drawer-bottom",i.nzPlacement==="bottom")("ant-drawer-right",i.nzPlacement==="right")("ant-drawer-left",i.nzPlacement==="left"),r("nzNoAnimation",i.nzNoAnimation),o(1),r("ngIf",i.nzMask),o(1),ne("ant-drawer-content-wrapper ",i.nzWrapClassName,""),R("width",i.width)("height",i.height)("transform",i.transform)("transition",i.placementChanging?"none":null),o(2),R("height",i.isLeftOrRight?"100%":null),o(1),r("ngIf",i.nzTitle||i.nzClosable),o(1),r("ngStyle",i.nzBodyStyle),o(2),r("ngIf",i.nzContent)("ngIfElse",n),o(3),r("ngIf",i.nzFooter)}}var Je=(()=>{let e=class e{constructor(i){this.templateRef=i}};e.\u0275fac=function(a){return new(a||e)(c(O))},e.\u0275dir=q({type:e,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"]});let t=e;return t})(),Ie=378,Re=736,S=class{},et=300,tt="drawer",y=class y extends S{set nzVisible(e){this.isOpen=e}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){let e=this.nzSize==="large"?Re:Ie;return this.nzWidth===void 0?w(e):w(this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){let e=this.nzSize==="large"?Re:Ie;return this.nzHeight===void 0?w(e):w(this.nzHeight)}return null}get isLeftOrRight(){return this.nzPlacement==="left"||this.nzPlacement==="right"}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}isTemplateRef(e){return e instanceof O}constructor(e,n,i,a,g,k,De,Ee,Ne,Se,ke){super(),this.cdr=e,this.document=n,this.nzConfigService=i,this.renderer=a,this.overlay=g,this.injector=k,this.changeDetectorRef=De,this.focusTrapFactory=Ee,this.viewContainerRef=Ne,this.overlayKeyboardDispatcher=Se,this.directionality=ke,this._nzModuleName=tt,this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.nzOnViewInit=new I,this.nzOnClose=new I,this.nzVisibleChange=new I,this.destroy$=new v,this.placementChanging=!1,this.placementChangeTimeoutId=-1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new v,this.nzAfterClose=new v,this.nzDirection=void 0,this.dir="ltr"}ngOnInit(){this.directionality.change?.pipe(z(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(e){let{nzPlacement:n,nzVisible:i}=e;i&&(e.nzVisible.currentValue?this.open():this.close()),n&&!n.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:et}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(e){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(e),this.nzAfterClose.complete(),this.componentInstance=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof J){let e=b.create({parent:this.injector,providers:[{provide:S,useValue:this}]}),n=new W(this.nzContent,null,e),i=this.bodyPortalOutlet.attachComponentPortal(n);this.componentInstance=i.instance,Object.assign(i.instance,this.nzContentParams),i.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new fe(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(z(this.destroy$)).subscribe(e=>{e.keyCode===27&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe(z(this.destroy$)).subscribe(()=>{this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new ge({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.blur=="function"&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.focus=="function"&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}};y.\u0275fac=function(n){return new(n||y)(c(F),c(se,8),c(Ce),c(ee),c(B),c(b),c(F),c(Te),c(ie),c(_e),c(he,8))},y.\u0275cmp=Z({type:y,selectors:[["nz-drawer"]],contentQueries:function(n,i,a){if(n&1&&ae(a,Je,7,O),n&2){let g;D(g=E())&&(i.contentFromContentChild=g.first)}},viewQuery:function(n,i){if(n&1&&($(Ae,7),$(N,5)),n&2){let a;D(a=E())&&(i.drawerTemplate=a.first),D(a=E())&&(i.bodyPortalOutlet=a.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:"nzClosable",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzCloseOnNavigation:"nzCloseOnNavigation",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],features:[te,G],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],["class","ant-drawer-header",3,"ant-drawer-header-close-only",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf","ngIfElse"],["contentElseTemp",""],["class","ant-drawer-footer",4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close","class","ant-drawer-close","style","--scroll-bar: 0px;",3,"click",4,"ngIf"],["class","ant-drawer-title",4,"ngIf"],["class","ant-drawer-extra",4,"ngIf"],["aria-label","Close",1,"ant-drawer-close",2,"--scroll-bar","0px",3,"click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"],[1,"ant-drawer-title"],[3,"innerHTML"],[1,"ant-drawer-extra"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[1,"ant-drawer-footer"]],template:function(n,i){n&1&&l(0,Ge,12,40,"ng-template",null,0,H)},dependencies:[le,pe,ce,N,Oe,xe,ye],encapsulation:2,changeDetection:0});var h=y;d([_()],h.prototype,"nzClosable",void 0);d([x(),_()],h.prototype,"nzMaskClosable",void 0);d([x(),_()],h.prototype,"nzMask",void 0);d([x(),_()],h.prototype,"nzCloseOnNavigation",void 0);d([_()],h.prototype,"nzNoAnimation",void 0);d([_()],h.prototype,"nzKeyboard",void 0);d([x()],h.prototype,"nzDirection",void 0);var L=class{constructor(e,n){this.overlay=e,this.options=n,this.unsubscribe$=new v;let g=this.options,{nzOnCancel:i}=g,a=Q(g,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new W(h)).instance,this.updateOptions(a),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe(z(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{i?i().then(k=>{k!==!1&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe(z(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(e){Object.assign(this.drawerRef,e)}},nt=(()=>{let e=class e{constructor(i){this.overlay=i}create(i){return new L(this.overlay,i).getInstance()}};e.\u0275fac=function(a){return new(a||e)(K(B))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let t=e;return t})(),Vt=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=U({type:e}),e.\u0275inj=Y({providers:[nt],imports:[de,me,ze,ue,we,be,ve]});let t=e;return t})();export{Je as a,h as b,Vt as c};
