import{a as J}from"./chunk-QTNYEYCW.js";import{b as q}from"./chunk-CHDKWY6V.js";import"./chunk-CNRANGED.js";import{a as P}from"./chunk-GKR6SDXW.js";import{a as D}from"./chunk-XHQXBUEX.js";import"./chunk-RMIKNTFD.js";import"./chunk-D3FIXZL7.js";import"./chunk-ADHMVREX.js";import"./chunk-VJKYRYVM.js";import{l as x}from"./chunk-FBU3NLE2.js";import{a as O}from"./chunk-MFWTQF6C.js";import"./chunk-M47XUQY5.js";import"./chunk-I3G2JKLN.js";import"./chunk-LCEARWCQ.js";import"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import"./chunk-POEXBOQJ.js";import{E as V,I as $,e as E,i as G,t as M}from"./chunk-L3THJMBJ.js";import"./chunk-PLQ7TNCQ.js";import"./chunk-C55YZZU5.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{i as R,k as w}from"./chunk-PJEV5NXI.js";import{A as j,q as T,w as F}from"./chunk-GWV5DZOT.js";import{$b as f,C as u,Da as I,Fb as m,Gb as r,Gc as k,H as h,Ia as N,Ja as L,Lc as c,Mc as s,Sb as a,V as C,ac as l,bc as _,cc as v,dc as b,ec as A,gc as B,nc as g,pc as S,qa as y}from"./chunk-N7LPRJLK.js";function K(t,o){if(t&1){let p=B();b(0),l(1,"popup-modal",2),g("clickSubmit",function(){N(p);let e=S();return L(e.onOk())}),_(),A()}if(t&2){let p=S();m(1),a("message",p.message)}}function U(t,o){t&1&&v(0,"div")}function W(t,o){t&1&&v(0,"div")}var pi=(()=>{let o=class o{constructor(i,e,n,d,Q,z,H){this._findContainer=i,this._actRoute=e,this._router=n,this._fb=d,this._asn=Q,this._eventLog=z,this._printer=H,this.inputForm=this._fb.nonNullable.group({location:["",[E.required]]})}ngOnInit(){this.data$=u(!0)}onSubmit(){this.data$=this._asn.findContainer(this.inputForm.value.location.toString()).pipe(y(i=>{if(!i.data.findContainer)throw new Error("Can't find this Location!")}),h(i=>{if(i.data.findContainer){let e={_id:i.data.findContainer._id,Barcode:i.data.findContainer.Barcode};sessionStorage.setItem("asnContainer",JSON.stringify(e)),this._router.navigate(["../../drop-off/scan-location"],{relativeTo:this._actRoute})}}),C(i=>u({error:{message:i.message,type:"error"}})))}onOk(){this._router.navigate(["../../menu"],{relativeTo:this._actRoute})}onBack(){this._router.navigate(["../../menu"],{relativeTo:this._actRoute})}};o.\u0275fac=function(e){return new(e||o)(r(O),r(R),r(w),r(V),r(q),r(J),r(x))},o.\u0275cmp=I({type:o,selectors:[["ng-component"]],standalone:!0,features:[k],decls:7,vars:12,consts:[["controlName","location","title","Scan ASN Location:",3,"data","formGroup","isvalid","formSubmit","formBack"],[4,"ngIf"],[3,"message","clickSubmit"]],template:function(e,n){e&1&&(l(0,"single-input-form",0),g("formSubmit",function(){return n.onSubmit()})("formBack",function(){return n.onBack()}),c(1,"async"),_(),f(2,K,2,1,"ng-container",1)(3,U,1,0,"div",1),c(4,"async"),f(5,W,1,0,"div",1),c(6,"async")),e&2&&(a("data",s(1,6,n.data$))("formGroup",n.inputForm)("isvalid",n.inputForm.valid),m(2),a("ngIf",n.message),m(1),a("ngIf",s(4,8,n.log$)),m(2),a("ngIf",s(6,10,n.print$)))},dependencies:[j,T,F,D,$,G,M,P],encapsulation:2});let t=o;return t})();export{pi as ASNLocation};
