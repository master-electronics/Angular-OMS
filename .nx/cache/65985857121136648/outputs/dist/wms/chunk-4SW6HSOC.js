import{a as zt,e as ht,l as Nt}from"./chunk-FBU3NLE2.js";import"./chunk-MFWTQF6C.js";import"./chunk-M47XUQY5.js";import"./chunk-LCEARWCQ.js";import{a as ft,b as dt}from"./chunk-RH2D4KR5.js";import{c as It,d as Tt,e as gt}from"./chunk-TREYRKOP.js";import{b as ot}from"./chunk-MZCJXFXF.js";import{a as mt,b as lt,c as pt,d as ct,e as ut}from"./chunk-WUHPQNSG.js";import"./chunk-YGLVR5WL.js";import{a as st,d as at}from"./chunk-44NJU3LR.js";import"./chunk-Z347V25R.js";import{H as nt,I as rt,d as H,e as C,h as W,i as K,l as Y,n as Z,p as tt,t as et,u as it}from"./chunk-L3THJMBJ.js";import"./chunk-RAQ4VAB7.js";import"./chunk-QQPJAVIB.js";import"./chunk-RMC6N2HF.js";import"./chunk-GJX7JKAF.js";import"./chunk-WX6KJXZ2.js";import"./chunk-EXQESRXT.js";import"./chunk-5FUULRSO.js";import{a as $,b as J}from"./chunk-V5UEWFGK.js";import"./chunk-C55YZZU5.js";import{a as q}from"./chunk-E6LDBMP7.js";import{a as R,c as B,e as U,f as X}from"./chunk-GFVCXK67.js";import"./chunk-WOYNEQEU.js";import"./chunk-XSY6ZNJP.js";import"./chunk-W3KGMJG7.js";import"./chunk-B3MPBRHZ.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{c as A,n as v}from"./chunk-PJEV5NXI.js";import{A as Q,q as k,w as G}from"./chunk-GWV5DZOT.js";import{$b as z,D as y,Da as w,Ea as d,Fb as m,Gb as c,Ia as T,Ja as g,Lc as L,Mc as E,Rc as D,Sb as l,Sc as O,Uc as j,V as S,ac as s,bc as a,cc as _,dc as x,ec as V,g as b,gc as F,nc as h,pc as u,qa as M,wa as f,xc as N,yc as P}from"./chunk-N7LPRJLK.js";var bt=["ITN"];function yt(e,t){if(e&1&&(s(0,"nz-form-item",2),_(1,"nz-alert",12),a()),e&2){let o=u();m(1),l("nzType",o.alertType==="error"?"error":o.alertType==="success"?"success":o.alertType==="info"?"info":"warning")("nzMessage",o.alertMessage)}}function St(e,t){if(e&1&&(x(0),s(1,"p"),N(2),a(),V()),e&2){let o=u(2);m(2),P(o.modalMessage)}}function Mt(e,t){if(e&1){let o=F();s(0,"nz-modal",13),h("nzVisibleChange",function(i){T(o);let r=u();return g(r.isModalVisible=i)})("nzOnOk",function(){T(o);let i=u();return g(i.closeModal())}),z(1,St,3,1,"ng-container",14),a()}if(e&2){let o=u();l("nzVisible",o.isModalVisible)}}var I=(()=>{let t=class t{constructor(n,i,r,p,Ct){this._title=n,this.titleService=i,this._print=r,this.printItnLabel=p,this.fetchPrinterStation=Ct,this.title="Print ITN",this.isModalVisible=!1,this.isLoading=!1,this.alertType="error",this.alertMessage="",this.ITNForm=new Y({ITN:new Z("",[C.required,C.pattern(ot)])}),this.subscription=new b,this._title.update(this.title),this.titleService.setTitle("printITN")}ngOnInit(){this.currentStation=this._print.printerStation,!this.currentStation&&(this.printerStation$=this._print.printerStation$)}ngAfterViewInit(){this.ITNInput.nativeElement.select()}onSubmit(){this.alertMessage="",this.ITNForm.valid&&this.printITN()}printITN(){this.isLoading=!0,this.subscription.add(this.printItnLabel.mutate({InventoryTrackingNumber:this.ITNForm.get("ITN").value.toUpperCase(),Station:this.currentStation}).pipe(M(n=>{if(!n.data.printITNLabel.success)throw n.data.printITNLabel.message;this.isLoading=!1,this.alertType="success",this.alertMessage="Print ITN label success."}),S(n=>(this.alertMessage=n,this.alertType="error",this.isLoading=!1,y(n)))).subscribe())}closeModal(){this.isModalVisible=!1}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(c(q),c(A),c(Nt),c(ht),c(zt))},t.\u0275cmp=w({type:t,selectors:[["print-itn"]],viewQuery:function(i,r){if(i&1&&O(bt,5),i&2){let p;D(p=j())&&(r.ITNInput=p.first)}},decls:17,vars:6,consts:[[1,"container","mx-auto","px-2","py-2","md:mt-4"],["nz-form","","focusInvalidInput","",3,"formGroup","ngSubmit"],["nz-row","","nzJustify","center"],["nz-col","","nzXs","20","nzSm","16","nzMd","12","nzLg","10","nzXl","8","nzXXl","6"],["nzRequired",""],["nzHasFeedback","","nzErrorTip","The input is not valid ITN!"],["nz-input","","nzSize","large","type","text","id","ITN","name","ITN","oninput","this.value = this.value.toUpperCase()","formControlName","ITN","autocomplete","off"],["ITN",""],["nz-col","","nzSpan","13"],["nz-button","","type","submit","nzType","primary","nzSize","large",1,"w-full",3,"nzLoading","click"],["nz-row","","nzJustify","center",4,"ngIf"],["nzTitle","Printer setting Error!",3,"nzVisible","nzVisibleChange","nzOnOk",4,"ngIf"],["nzShowIcon","",1,"w-full",3,"nzType","nzMessage"],["nzTitle","Printer setting Error!",3,"nzVisible","nzVisibleChange","nzOnOk"],[4,"nzModalContent"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"form",1),h("ngSubmit",function(){return r.onSubmit()}),s(2,"div",2)(3,"div",3)(4,"nz-form-item",2)(5,"nz-form-label",4),N(6," ITN "),a(),s(7,"nz-form-control",5),_(8,"input",6,7),a()(),s(10,"nz-form-item",2)(11,"div",8)(12,"button",9),h("click",function(){return r.onSubmit()}),N(13," Print "),a()()(),z(14,yt,2,2,"nz-form-item",10),a()()()(),z(15,Mt,2,1,"nz-modal",11),L(16,"async")),i&2&&(m(1),l("formGroup",r.ITNForm),m(11),l("nzLoading",r.isLoading),m(2),l("ngIf",r.alertMessage),m(1),l("ngIf",E(16,4,r.printerStation$)))},dependencies:[k,tt,H,W,K,et,it,st,Tt,It,ft,J,$,lt,mt,ct,pt,U,R,B,G],encapsulation:2});let e=t;return e})();var wt=[{path:"",component:I}],vt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d({type:t}),t.\u0275inj=f({imports:[v.forChild(wt),v]});let e=t;return e})();var se=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d({type:t,bootstrap:[I]}),t.\u0275inj=f({imports:[Q,nt,rt,vt,at,gt,dt,ut,X]});let e=t;return e})();export{se as PrintITNModule};
