import{a as w}from"./chunk-XHQXBUEX.js";import"./chunk-RMIKNTFD.js";import"./chunk-D3FIXZL7.js";import"./chunk-ADHMVREX.js";import"./chunk-VJKYRYVM.js";import{d as k}from"./chunk-MFWTQF6C.js";import"./chunk-POEXBOQJ.js";import{E as I,I as L,e as b,i as B,t as F}from"./chunk-L3THJMBJ.js";import"./chunk-C55YZZU5.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{i as C,k as y}from"./chunk-PJEV5NXI.js";import{A as S,w as g}from"./chunk-GWV5DZOT.js";import{C as m,Da as p,Gb as n,Gc as h,Lc as _,Mc as v,Sb as u,V as s,ac as l,bc as f,nc as d,qa as c}from"./chunk-N7LPRJLK.js";var $=(()=>{let e=class e{constructor(t,o,i,a){this._actRoute=t,this._router=o,this._fb=i,this._findContainer=a,this.inputForm=this._fb.nonNullable.group({location:["",[b.required]]})}ngOnInit(){this.data$=m(!0),sessionStorage.removeItem("asnLocation")}onSubmit(){this.data$=this._findContainer.fetch({container:{Barcode:this.inputForm.value.location.toString().replace(/-/g,"")}},{fetchPolicy:"network-only"}).pipe(c(t=>{if(!t.data.findContainer)throw new Error("Can't find this location!");if(t.data.findContainer.ContainerType.IsMobile)throw new Error("Can't select mobile location!");sessionStorage.setItem("asnLocation",t.data.findContainer.Barcode.toString()),this._router.navigate(["../scan-itn"],{relativeTo:this._actRoute})}),s(t=>m({error:{message:t.message,type:"error"}})))}onBack(){this._router.navigate(["../menu"],{relativeTo:this._actRoute})}};e.\u0275fac=function(o){return new(o||e)(n(C),n(y),n(I),n(k))},e.\u0275cmp=p({type:e,selectors:[["ng-component"]],standalone:!0,features:[h],decls:2,vars:5,consts:[["controlName","location","title","Scan Start Location:",3,"data","formGroup","isvalid","formSubmit","formBack"]],template:function(o,i){o&1&&(l(0,"single-input-form",0),d("formSubmit",function(){return i.onSubmit()})("formBack",function(){return i.onBack()}),_(1,"async"),f()),o&2&&u("data",v(1,3,i.data$))("formGroup",i.inputForm)("isvalid",i.inputForm.valid)},dependencies:[S,g,w,L,B,F],encapsulation:2});let r=e;return r})();export{$ as ASNStartLocation};
