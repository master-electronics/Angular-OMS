import{a as P}from"./chunk-5DKNJ5MR.js";import"./chunk-W6X5OBKE.js";import"./chunk-PTORZITP.js";import"./chunk-N327C62I.js";import{a as q}from"./chunk-XHQXBUEX.js";import"./chunk-RMIKNTFD.js";import"./chunk-D3FIXZL7.js";import"./chunk-ADHMVREX.js";import{a as A}from"./chunk-IPTX4HSO.js";import"./chunk-VJKYRYVM.js";import{a as V}from"./chunk-OQTOI2SX.js";import"./chunk-KSUYRJTQ.js";import"./chunk-FBU3NLE2.js";import"./chunk-MFWTQF6C.js";import"./chunk-M47XUQY5.js";import"./chunk-YPJKXAYS.js";import"./chunk-I3G2JKLN.js";import"./chunk-LCEARWCQ.js";import"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import"./chunk-POEXBOQJ.js";import"./chunk-MZCJXFXF.js";import{H as D,I as $,e as k,i as N,k as G,m as M,t as E}from"./chunk-L3THJMBJ.js";import"./chunk-PLQ7TNCQ.js";import"./chunk-C55YZZU5.js";import"./chunk-YUDS3XHK.js";import"./chunk-MIXZFVL7.js";import"./chunk-FFJ3QZ3H.js";import{i as w,k as R}from"./chunk-PJEV5NXI.js";import{A as B,f as L,q as T,w as j}from"./chunk-GWV5DZOT.js";import{$b as I,Ac as y,C as c,Da as v,Fb as m,Gb as o,Gc as x,H as d,Lc as F,Mc as C,S as h,Sb as u,V as g,aa as _,ac as a,bc as l,nc as S,pc as b,xc as p}from"./chunk-N7LPRJLK.js";function J(n,t){if(n&1&&(a(0,"div",2)(1,"h1"),p(2,"Scan Location Barcode:"),l(),a(3,"h1"),p(4),l()()),n&2){let O=t.ngIf,e=b();m(4),y("(",e._label.currentItnIndex()+1," of ",O.length,")")}}var nt=(()=>{let t=class t{constructor(e,r,i,s,z,H){this._router=e,this._actRoute=r,this._ui=i,this._label=s,this._recipt=z,this.location=H,this.isloading=!1,this.onChange=f=>{f&&this.inputForm.get("location").setValue(f)}}ngOnInit(){this.data$=c(!0).pipe(_(500)),this._ui.changeSteps(3),this.inputForm=new G({location:new M("",[k.required])}),history.pushState(null,null,window.location.href),this.location.onPopState(()=>{history.pushState(null,null,window.location.href)})}onBack(){this._router.navigate(["receiptreceiving/label/assign"])}onSubmit(){this.inputForm.value.location.trim()&&(this.isloading||(this.isloading=!0,this.data$=this._label.checkBinLocation(this.inputForm.value.location.trim()).pipe(h(()=>this._label.ITNList()?.length>this._label.currentItnIndex()+1?(this._router.navigate(["receiptreceiving/label/printitn"]),!1):this._label.ITNList()?.length<=this._label.currentItnIndex()?(this._router.navigate(["../assign"],{relativeTo:this._actRoute}),!1):!0),d(()=>(this._router.navigate(["../summary"],{relativeTo:this._actRoute}),!0)),g(e=>(this.isloading=!1,c({error:{message:e.message,type:"error"}}))))))}};t.\u0275fac=function(r){return new(r||t)(o(R),o(w),o(V),o(P),o(A),o(L))},t.\u0275cmp=v({type:t,selectors:[["ng-component"]],standalone:!0,features:[x],decls:3,vars:5,consts:[["class","flex flex-col justify-center text-lg",4,"ngIf"],["controlName","location","title","Location",3,"data","formGroup","formSubmit","formBack"],[1,"flex","flex-col","justify-center","text-lg"]],template:function(r,i){r&1&&(I(0,J,5,2,"div",0),a(1,"single-input-form",1),S("formSubmit",function(){return i.onSubmit()})("formBack",function(){return i.onBack()}),F(2,"async"),l()),r&2&&(u("ngIf",i._label.ITNList()),m(1),u("data",C(2,3,i.data$))("formGroup",i.inputForm))},dependencies:[B,T,j,D,N,$,E,q],encapsulation:2});let n=t;return n})();export{nt as ScanLocationComponent};
