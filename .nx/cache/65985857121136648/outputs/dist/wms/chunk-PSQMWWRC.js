import"./chunk-ZOYJBT7K.js";import{a as re}from"./chunk-D3FIXZL7.js";import{a as te}from"./chunk-ADHMVREX.js";import{a as Y}from"./chunk-IPTX4HSO.js";import{a as ee}from"./chunk-VJKYRYVM.js";import{a as Z}from"./chunk-OQTOI2SX.js";import"./chunk-KSUYRJTQ.js";import{c as X}from"./chunk-M47XUQY5.js";import"./chunk-YPJKXAYS.js";import"./chunk-I3G2JKLN.js";import"./chunk-LCEARWCQ.js";import"./chunk-4AGTE6D3.js";import"./chunk-5GWOD35Y.js";import{I as W,d as A,h as K,i as Q,k as q,m as x,p as z,t as J,u as U}from"./chunk-L3THJMBJ.js";import"./chunk-PLQ7TNCQ.js";import"./chunk-C55YZZU5.js";import{i as O,k as P}from"./chunk-PJEV5NXI.js";import{A as y,p as H,q as v,w as j}from"./chunk-GWV5DZOT.js";import{$b as f,C as S,Da as b,Fb as c,Gb as s,Gc as _,H as k,Ia as N,Ja as w,Lc as B,Mb as E,Mc as M,Sb as p,Vc as G,ac as i,bc as n,cc as g,dc as R,ec as T,gc as L,ka as F,nc as u,pc as h,qa as I,wc as V,xc as d,yc as D,zc as $}from"./chunk-N7LPRJLK.js";function ae(e,t){if(e&1){let m=L();i(0,"tr",5),u("click",function(){let o=N(m).$implicit,l=h(2);return w(l.onSelected(o._id))}),i(1,"th",6),d(2),n(),i(3,"td",7),d(4),n()()}if(e&2){let m=t.$implicit;c(2),$(" ",m._id," "),c(2),D(m.VendorName)}}function me(e,t){if(e&1&&(R(0),i(1,"tbody"),f(2,ae,5,2,"tr",4),n(),T()),e&2){let m=h();c(2),p("ngForOf",m.headerList)}}var ie=(()=>{let t=class t{constructor(){this.headerList=[],this.selectCol=new E}onSelected(r){this.selectCol.emit(r)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=b({type:t,selectors:[["receipt-header-table"]],inputs:{headerList:"headerList"},outputs:{selectCol:"selectCol"},standalone:!0,features:[_],decls:8,vars:1,consts:[[1,"w-full","text-left","text-sm","text-gray-500","dark:text-gray-400"],[1,"bg-gray-50","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[4,"ngIf"],["class","border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600",3,"click",4,"ngFor","ngForOf"],[1,"border-b","bg-white","hover:bg-gray-50","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-600",3,"click"],["scope","row",1,"whitespace-nowrap","px-6","py-4","font-medium","text-gray-900","dark:text-white"],[1,"px-6","py-4"]],template:function(a,o){a&1&&(i(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),d(4,"ReceiptID"),n(),i(5,"th",2),d(6,"Vendor"),n()()(),f(7,me,3,1,"ng-container",3),n()),a&2&&(c(7),p("ngIf",o.headerList==null?null:o.headerList.length))},dependencies:[y,H,v],encapsulation:2,changeDetection:0});let e=t;return e})();function le(e,t){if(e&1&&g(0,"submit-button",14),e&2){let m=h();p("disabled",!m.inputForm.valid)}}function ce(e,t){e&1&&g(0,"loader-button")}var Te=(()=>{let t=class t{constructor(r,a,o,l,C){this._router=r,this._ui=a,this._actRoute=o,this._searchList=l,this.receipt=C}ngOnInit(){this._ui.changeSteps(0),this.search$=S(!0),this.inputForm=new q({partNumber:new x(""),vendor:new x("")})}onInputFocus(r){this.currentInputFied=this.inputForm.get(`field${r.target.id}`)}onChange(r){this.currentInputFied.setValue(r)}onSearch(){this.search$=this._searchList.fetch({VendorNumber:this.inputForm.value.vendor,PartNumber:this.inputForm.value.partNumber}).pipe(k(r=>r.data.findReceiptInfoByPartorVendor),F(1))}onSelect(r){this.search$=this.receipt.checkReceiptHeader$(r).pipe(I(()=>{this._router.navigate(["../part"],{relativeTo:this._actRoute})}))}onBack(){this._router.navigate(["../receipt"],{relativeTo:this._actRoute})}};t.\u0275fac=function(a){return new(a||t)(s(P),s(Z),s(O),s(X),s(Y))},t.\u0275cmp=b({type:t,selectors:[["ng-component"]],standalone:!0,features:[_],decls:21,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"text-base","sm:text-lg","md:mx-16","md:text-2xl","lg:text-4xl"],[1,"grid","w-full","gap-10","md:grid-cols-2"],["for","partNumber",1,"block","font-medium"],["formControlName","partNumber","type","text","name","partNumber","autocomplete","off","id","partNumber",1,"focus:ring-primary-600","focus:border-primary-600","block","w-full","rounded-lg","border","bg-gray-50","p-2.5","text-gray-900"],["partNumber",""],["for","vendor",1,"block","font-medium"],["formControlName","vendor","type","vendor","name","vendor","autocomplete","off","id","vendor",1,"focus:ring-primary-600","focus:border-primary-600","block","w-full","rounded-lg","border","bg-gray-50","p-2.5","text-gray-900"],[1,"grid","h-8","w-full","grid-cols-3","sm:h-12","md:mt-6","md:h-16","lg:h-20"],[3,"disabled",4,"ngIf","ngIfElse"],["loading",""],[1,"col-start-3",3,"buttonClick"],[1,"h-80","overflow-auto"],[3,"headerList","selectCol"],[3,"disabled"]],template:function(a,o){if(a&1&&(i(0,"form",0),u("ngSubmit",function(){return o.onSearch()}),i(1,"div",1)(2,"div",2)(3,"div")(4,"div")(5,"label",3),d(6,"PartNumber"),n(),g(7,"input",4,5),n(),i(9,"div")(10,"label",6),d(11,"VendorNumber"),n(),g(12,"input",7),n(),i(13,"div",8),f(14,le,1,1,"submit-button",9)(15,ce,1,0,"ng-template",null,10,G),i(17,"normal-button",11),u("buttonClick",function(){return o.onBack()}),n()()(),i(18,"div",12)(19,"receipt-header-table",13),u("selectCol",function(C){return o.onSelect(C)}),B(20,"async"),n()()()()()),a&2){let l=V(16);p("formGroup",o.inputForm),c(14),p("ngIf",o.search$)("ngIfElse",l),c(5),p("headerList",M(20,4,o.search$))}},dependencies:[y,v,j,W,z,A,K,Q,J,U,re,ie,ee,te],encapsulation:2});let e=t;return e})();export{Te as SearchComponent};
