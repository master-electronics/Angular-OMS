import{a as I}from"./chunk-JC3J4WKG.js";import{a as T}from"./chunk-O3UEHWS5.js";import{I as L,e as d,i as E,k as G,m as c,t as D}from"./chunk-L3THJMBJ.js";import{A as M,w as _}from"./chunk-GWV5DZOT.js";import{C as a,Da as v,Fb as l,Gb as C,Gc as x,H as h,Ka as w,La as b,Lc as A,Mb as m,Mc as F,Sb as y,V as g,ac as o,bc as n,cc as S,nc as u,qa as f,xc as p,zc as k}from"./chunk-N7LPRJLK.js";var K=(()=>{let i=class i{constructor(e){this.auth=e,this.message="",this.clickClose=new m,this.passAuth=new m,this.inputForm=new G({username:new c("",[d.required]),password:new c("",[d.required])})}ngOnInit(){this.login$=a(!0)}onSubmit(){this.login$=this.auth.userAuthentication(this.inputForm.value.username.trim().toLowerCase(),this.inputForm.value.password).pipe(f(e=>{if(!e.userGroups.some(t=>t==="whs_supr"||t==="Domain Admins"))throw"Need WHS Supervisor!"}),h(()=>{this.passAuth.emit(this.inputForm.value.username),this.clickClose.emit()}),g(e=>a({error:{message:e,name:"error"}})))}onClose(){this.clickClose.emit()}};i.\u0275fac=function(t){return new(t||i)(C(T))},i.\u0275cmp=v({type:i,selectors:[["auth-modal"]],inputs:{message:"message"},outputs:{clickClose:"clickClose",passAuth:"passAuth"},standalone:!0,features:[x],decls:14,vars:5,consts:[["id","auth-modal",1,"absolute","left-0","top-0","z-50","grid","h-full","w-full","grid-cols-1","grid-rows-1","place-items-center","bg-gray-400","bg-opacity-30"],[1,"relative","h-full","w-4/5","md:h-auto","md:w-2/3","lg:w-1/2"],[1,"relative","rounded-lg","bg-white","shadow"],["type","button",1,"absolute","right-2.5","top-3","ml-auto","inline-flex","items-center","rounded-lg","bg-transparent","p-1.5","text-sm","text-gray-400","hover:bg-gray-200","hover:text-gray-900","dark:hover:bg-gray-800","dark:hover:text-white",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"sr-only"],[1,"bg-gray-200","px-5","py-4"],[1,"hidden","text-center","md:block"],[1,"font-semibold","text-blue-800"],["buttonText","Auth",3,"formGroup","data","formSubmit"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return r.onClose()}),w(),o(4,"svg",4),S(5,"path",5),n(),b(),o(6,"span",6),p(7,"Close modal"),n()(),o(8,"div",7)(9,"div",8)(10,"h1",9),p(11),n(),o(12,"user-password-form",10),u("formSubmit",function(){return r.onSubmit()}),A(13,"async"),n()()()()()()),t&2&&(l(11),k(" ",r.message," "),l(1),y("formGroup",r.inputForm)("data",F(13,3,r.login$)))},dependencies:[M,_,I,L,E,D],encapsulation:2,changeDetection:0});let s=i;return s})();export{K as a};
